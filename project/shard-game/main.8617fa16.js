parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"bMrZ":[function(require,module,exports) {
module.exports={type:"chapter",shards:[{label:"The wasteland",keywords:[],content:"I close the double wooden doors to the church after me. A sandstorm is brewing outside again, and I’m thankful for the shelter. I slip the straps of my hefty backpack off my shoulder, letting it fall to the floor in a puff of fine sand. Without hesitation, I hastily take off my balaclava and outer shirt. Fresh air caresses my skin and I heave a sigh of relief."},{label:"Inside the church",keywords:["church","sanctuary","chapel"],content:"The church: a familiar sight, but one I have not seen for years. The sanctuary is small and dusty. Sand has blown in through the broken windows and the gaps in the walls. Broken pews are everywhere. The statue of Mother Mary looks down upon the devastated ruins of the chapel."},{label:"The Year",keywords:["year"],content:"It is the year 2256, and the world is fucked. The Sun beats through the remains of our ozone layer, devastating life as we know it. A population of eleven billion reduced to…I don’t know, a few hundred million? All the plants and animals are dead. Reality has not been kind. I only have myself to blame."},{label:"Too much of a good thing",keywords:["age","year"],content:"I’m 45, and I have been 45 for 141 years. The Elixir has kept me going, long after Mother Nature has dictated my death. But the world has gone to rack and ruin, and I’m too much of a coward to end my own life. Perhaps death would have been a blessing. Hindsight is 20/20."},{label:"Mother Mary",keywords:["mary","statue","god"],content:"The scorching Sun shines through the stained glass windows, casting the face of Mother Mary’s in dark shadows. She frowns at me in disdain for all that I have done. For a brief moment, I want to push her off the pedestal, to shatter her granite figure across the concrete floor. But I quell my anger. I’ve done enough to anger God as is, if He even exists."},{label:"Supplies",keywords:["supply","food","water","backpack"],content:"My backpack is almost completely filled with food and water, which I’ve been carefully rationing for months now. One can of food can be stretched to last a day, maybe a day and a half. The water bottles, on the other hand, are fast depleting. Hopefully I can scavenge more from Sunnyvale before I move on."},{label:"A weary face",keywords:["eye","face","20/20"],content:"I look at the reflection of my face in the brass plaque that says “The Church of the Virgin Mary”. I have not aged a day since 2115, although the arid climate has left tiny cracks across my skin. I am tired. So, very, very tired."},{label:"The pews",keywords:["pew"],content:"The pews are strewn across the concrete floor. Some of them are damaged, as if people had taken their anger out of them. We used to sit there, Helen and I. Third pew on the left. An elderly couple would sit on our right, next to the aisle. A young couple, just like us at the time, would sit to our left. How innocent we were, thinking that fate would let us lead a quiet life."},{label:"Fate",keywords:["fate","destiny","earth"],content:"I don’t believe in fate. I don’t believe in destiny. The only forces of the universe that could lead humanity to such an ironic end is random chance. Does everything happen for a reason? No, I don’t think so. For fate, or destiny, or even God to destroy the Earth with me as an instrument: I cannot bear to accept such a possibility."},{label:"Helen",keywords:["helen","wife"],content:"Helen. My dear, sweet, Helen. I miss everything about you. Your soft hair, your sweet lips. I now regret all those years we devoted to our research. We should’ve said no to Dominic. We should’ve stayed in Sunnyvale to grow old and die. We would be dead, yes, but we would also be together. Together and happy. Regrets, regrets, regrets."},{label:"Our wedding",keywords:["wedding"],content:"We kept it small. Immediate family, close friends. We recited our vows in front of the pastor, who announced us husband and wife. We exchanged rings. We kissed. We would be together forever. We promised."},{label:"Our marriage",keywords:["marriage"],content:"Our marriage was a strong one. We were the perfect couple, complementing each other’s weaknesses with our strengths. Whenever we fought—which was rare—we would apologise and make up. Our relationship would be stronger than ever. We spoke in codes only the other could understand. Our eyes would meet for just a little longer, the soft brush of her hand against mine, and thousands of words would be spoken in silence."},{label:"Our anniversary",keywords:["anniversary"],content:"We got together on the 15th of June, 2095. Our wedding ceremony was not too long after. We’re not the romantic type, but we still make it a point to celebrate it. She doesn’t like flowers, so I get her chocolates and wine, and we go out for a simple dinner. Even when we were working on the Elixir, we’ll get chinese takeout so we can spend 30 minutes together over dinner."},{label:"Codes",keywords:["code"],content:"We joked about it back when we lived in Sunnyvale. What if one of us was on the run from the law, or the mafia, or the Illuminati, and we needed to contact each other? We could write to each other in codes, then leave the message somewhere safe. Not our home, that would be too obvious. We decided the best place to leave it would be at church, tucked behind the offertory box. Nobody would ever find it."},{label:"Dominic",keywords:["dominic","friend"],content:"I met Dominic as a college undergrad in Harvard University. We shared a love for tennis, logic puzzles, and rock music. But most importantly, we shared a burning passion for biochemistry. After we graduated, we took our Master’s degree in John Hopkins University. We had ambitions we wanted to chase."},{label:"Ambition",keywords:["ambition","discovery"],content:"Dominic has always been the most ambitious among us. Even when Helen and I settled for research jobs in San Francisco, he moved to Boston to be close to the Biotech hub. Don’t get me wrong, Helen and I were successful in what we did, but Dominic achieved way more than what either of us could do. And he was the one who made the Discovery."},{label:"Sunnyvale",keywords:["sunnyvale","home"],content:"Sunnyvale. A small, quiet town that sounds exactly like it’s named. Helen and I used to live here. It sounds cheesy, but we passed through here during one of our road trips, and we fell in love with this place immediately. After we got married, we moved up here and found jobs in San Francisco. This brings back memories. Life seemed so normal then."},{label:"The nostalgic past",keywords:["memory","past","normal"],content:"Coming back to Sunnyvale brings back memories. Helen. Her soft skin. Her long, wavy hair. I remember pushing each other on swings at the local park even though we were 35. I remember the grocery store where we did our weekend shopping. I remember our home, where we would sleep in on weekends, enjoying the soft sunlight that streamed in through the windows. These memories are leaving an aftertaste in my mind. An aftertaste of happiness."},{label:"Happiness",keywords:["happy","satisfaction","achievement"],content:"Happy. We used to be happy, Helen and I. During all those years of research, I thought we were happy. No, that was passion. That was fulfilment. That was a sense of satisfaction from a job well done. But that was not happiness. While we packed everything we owned and moved to Boston, our happiness remained in Sunnyvale."},{label:"San Francisco",keywords:["san francisco"],content:"San Francisco used to be an hour’s drive north of Sunnyvale. It would have been a day by foot, but that was before the Scorch. Now, multiply everything by three to estimate your travelling time. Even then, that’s assuming you have all your supplies packed. If you need to scavenge for food or water along the way, multiply by ten. It’s never just an hour’s drive. Not anymore."},{label:"Work",keywords:["work","job","scientist"],content:"Helen and I worked as biochemists in San Francisco. Pardon me for tooting our own horns, but we were among the best in the field. We’ve written research papers that have been published in reputable journals. Made discoveries that found applications in medicine, chemistry, and even technology. It was no surprise that Dominic came to us with his proposal."},{label:"The raging sandstorm",keywords:["sandstorm"],content:"Sandstorms are the norm now, ever since the Scorch. Your only warning is the sweltering winds that sweep up around you. Within the hour, you’ll be caught in the storm if you don’t reach shelter in time. At best, it delays your journey a little. At worst, it causes a whole load of health problems. A balaclava, like the one I’m wearing, is insufficient. The sand gets in your lungs and eyes. Dust pneumonia. Lung disease. Silicosis. Dry eyes. Blindness. In a post-apocalyptic world without proper healthcare, I can’t take any chances."},{label:"The Scorch",keywords:["scorch","apocalypse","earth"],content:"The Scorch. It pains me to even talk about it. Imagine the greatest heatwave you’ve ever experienced. Multiply that by ten, no, twenty. Without the ozone layer to protect us from the radiation of the Sun, the Earth heated up to crazy temperatures. Death. Oh god, the deaths."},{label:"The deaths",keywords:["death"],content:"The children and the elderly were the first to go. Their families would watch helplessly as their frail bodies could no longer withstand the heatstroke. Those who could get a bed at hospitals survived a little longer, but the rising heat eventually got them. Society as a whole collapsed, and I now bear the burden of immeasurable guilt."},{label:"The collapse",keywords:["society","collapse","apocalypse"],content:"Grieving familes. Overloaded hospitals. Temperatures that made you sweat buckets whenever you went outside. Even the coldest air-conditioning only made things a bit more bearable. It’s no wonder that society collapsed. Mother Nature didn’t fare too well either."},{label:"Mother Nature",keywords:["nature","ozone","heat","earth"],content:"The rising heat also killed the ecosystem. Made the seas boil, withered all the plants. Water evaporated, leaving the ground dry and cracked. Plants died, leaving broiling winds to stir up dust and sand, turning every inch of the Earth into an arid desert. Without vegetation, we ran out of food. As the bodies of water dried out, we ran out of water too. Scientists had previously warned us about climate change, but climate change has nothing on this."},{label:"Guilt",keywords:["guilt","blame"],content:"I’m guilty. Guilty as charged. Sure, I wasn’t alone in this. But with the Earth devastated and billions dead, the three culprits have a lot of blame to bear. Shall I point my finger at Dominic, my best friend, and say he should have tried harder to stop me? Shall I point my finger at Helen, my own wife, for evangelising alongside me? No. If anyone has to suffer for this, it should be me."},{label:"Evangelism",keywords:["evangelise"],content:"We thought it was a good idea, Helen and I. Our invention is a gift. Something to be shared for the benefit of everyone. We found the Elixir of Life itself, and we would not be silenced. And so we, against Dominic’s advice, made the formula public. We shared the secrets of its synthesis with the world, and with that, we sealed its doom."},{label:"Regrets",keywords:["hindsight","regret","complication","consequences"],content:"Regret is a funny thing. It starts out with what seems like a good idea, maybe even the only option you have. Then the consequences rear its ugly head, and you’re left shouldering the burden of “what could have been”. I regret a lot of things. I regret not listening to Dominic’s pleas to keep the formula a secret. I regret pushing Dominic and Helen away when they needed me the most. Helen, my dear Helen. I should’ve kept you close. I should’ve made you stay."},{label:"The Formula",keywords:["formula","synthesis","secret","chemical","findings"],content:"The formula was complicated; not everyone could make it out of their homes. But equipped with a chemistry laboratory and a few basic chemicals, one could synthesise the Elixir. We could’ve kept the process a secret. We could’ve profited from the sale of the Elixir. After all, people would pay anything and everything for immortality. But we were bigger than that. We wanted to save the world, and so we announced the synthesis process to the public."},{label:"The world shall know",keywords:["public","announce","news"],content:"Dominic told us not to do it. Over countless tearful arguments and heated exchanges, he told us not to share our secret with the world. But why not? People were dying, and I felt responsible. I wanted to do something good in this world. I wanted to be a hero. It boiled down to a vote: Helen and I against Dominic. And so we let the world know. Dominic was selfish, I told myself. Dominic had betrayed us. He wanted to reap the profits for his idea. But I could not have fathomed what the formula would do once we made it public. Then again, how could Dominic have known either?"},{label:"The Elixir of Life",keywords:["elixir","compound","reaper","news"],content:"We just called it the compound, but the news did a better job of publicising it. They called it “The Elixir of Life” and they called us the “Slayers of the Reaper”, “Conquerors of Death”. The public ate it up like hotcakes. We became overnight celebrities. Everyone wanted to know the secret."},{label:"The Reaper",keywords:["reaper","death","humanity"],content:"Walter Carter, Helen Carter, and Dominic Peters: the three Slayers of the Reaper. Our name would go down in history books, if only humanity lasted long enough to write them. We had forged the sword of life and stabbed Death in the heart. If only he didn’t have the last laugh."},{label:"The Discovery",keywords:["discovery","dominic","compound","chemical","mice","disease","findings"],content:"Dominic first discovered it: a chemical compound that curbed the degeneration of stem cells in mice. It basically slowed down the ageing in mice, but it did nothing to stop diseases. He wanted to research it further, but if word of this research got out, there would be competition on who would make the first scientific breakthrough in human immortality. Looking for partners he could trust to keep it secret, he flew across the country to meet us."},{label:"The proposal",keywords:["proposal","research","boston"],content:"Helen and I were just settling into our lives when Dominic first brought up the proposal. I had just gotten a promotion, and we were going to try for a baby. But between settling down with a family and finding the cure to death, there was no competition. We took on Dominic’s proposal. Besides, we could have children a little bit later in life. His laboratory was situated in the Genetown Hub: the Biotech Hotbed, so we uprooted our lives and moved to Boston."},{label:"Secret research",keywords:["secret","partner","research","mice"],content:"We synthesised variations of the chemical compound and observed their effects on mice. At first they started living longer. The first batch of mice lived for 6 years, more than twice the average lifespan of their counterparts. While waiting for them to die, we improved the formula. The later batches of mice stopped ageing the moment we treated them with the compound. While we waited for them to die (they didn’t), we adapted it to treat human cells too. 8 years. Driven by passion, we worked on this for 8 long years until it was finished. All the while, we breathed not a word to anyone about our research."},{label:"Passion",keywords:["passion","god"],content:"Have you ever felt so much passion for a project that you poured your mind, heart, and soul into it? That passion filled, no, consumed us all. We spent almost every waking moment in the laboratory, just testing and testing and testing. We’d work for fifteen hours a day. We’d forget to eat. We’d work weekends. It was a feverish obsession. We were doing something great. We were doing God’s work."},{label:"Breakthrough",keywords:["breakthrough","news","success"],content:"We got our breakthrough. It was 3 AM and I had fallen asleep at my desk in the middle of writing a report. Helen had gone back home to get a quick shower. Dominic woke me up with the latest news: the human organs that we had treated had stopped ageing. If the next few months of research went as planned, we would be ready for clinical trials. Helen and I were supposed to celebrate our wedding anniversary that night, but our scientific achievement was more noteworthy. We celebrated with the finest champagne and toasted to immortality."},{label:"Clinical trials",keywords:["clinical","trials","test","science"],content:"It’s hard to do clinical trials when your cure is for death itself. Sure, you could do biometric scans to tell the physical age of a person, but the surest way is to test it on someone and see if they died. That could take years to confirm the results. But at the first sign of success, we treated ourselves with the Elixir."},{label:"Treatment",keywords:["treat","immortal"],content:"We were getting old. We could feel it. What used to be an energetic frolic through the park turned into a leisurely stroll. If we didn’t treat ourselves with the Elixir, soon we would be ambling down the pavement with a hunched back and walking frame. We’ve already poured in so many years of our lives into this, we might as well take it all the way. The risk of medical complications was worth immortality."},{label:"Our immortality",keywords:["risk","complication","cure"],content:"I was treated first. When my body showed no signs of health issues a year later, Dominic went next. Helen went last, so in case anything went wrong, she could put off the treatment until a better formula was developed. Our concerns were all for naught; the cure was a success. We had slain the death. We were immortals."},{label:"Wealth",keywords:["villa","rhode","money","profit"],content:"Despite releasing the Elixir’s formula for free, we still made a lot of money from the stock market. We had the foresight to invest in stocks of pharmaceutical companies before we made the announcement. Shortly after, their stocks soared, and so did our bank account balances. With the money, we bought a villa in Rhode Island. We were going to retire in luxury."},{label:"Unleashed",keywords:["public","people","humanity"],content:"When you pour a cup of water into the sea, you can never get the same cup back. When we released the synthesis instructions to the Elixir, there was no taking it back. No taking it back when we found out how it devastated the ozone layer. No taking it back when we announced our findings. No taking it back when there was a worldwide ban on the synthesis of the Elixir. Humans are selfish, and their greed led to all this."},{label:"The prisoner’s dilemma",keywords:["selfish","greed","ozone","people","humanity","earth"],content:"“Just one more cure,” each person tells themselves as they search the black market for someone, anyone willing to synthesise the Elixir for them. “One more cure wouldn’t cause the destruction of the world.” Eleven billion people, eleven billion cures. Each synthesis creates a bit more chloropyridine gas. Anyone could’ve said no to the Elixir, but dying to save the Earth was for someone else. “Not me, not me. I deserve to live forever.”"},{label:"The devourer",keywords:["gas","chloropyridine","earth"],content:"Chloropyridine is worse than any greenhouse gas. Greenhouses gases only trap heat in the Earth’s atmosphere. Chloropyridine is a catalyst that speeds up the destruction of the ozone layer, which in turn lets in more ultraviolet radiation. It doesn’t add on to the problem of greenhouse gases. It multiplies it. And there’s no taking it back."},{label:"Outcast",keywords:["ban","announce","outcast"],content:"We banned it. The fallout was massive. There were riots everywhere. Angry mobs wrecked our homes and Dominic’s laboratory. People were angry because they were robbed of the cure. People were angry because of what we did to the environment. We received death threats. We were called the anti-christ for trying to go against God’s plan. We were shunned by the scientific community."},{label:"Riots",keywords:["riot","fallout","rhode"],content:"We packed everything that was valuable to us. Our passport, our wallets, our laptops. Treasured photos and precious memories stashed away at the bottom of luggage bags. Then we ran from the mobs who were after our lives. I don’t blame them: we had sentenced the world to death. We went into hiding. Helen and I owned a villa in Rhode Island, and so the three of us moved there while the world burned around us."},{label:"Fallout",keywords:["fallout","mob","betray","hiding","rhode","mean"],content:"We were staying in the villa when it happened. I don’t remember who started it, but Dominic and I fought over the Elixir. He was angry that we chose to make the formula public. I retorted that he didn’t foresee this happening either. We exchanged heated words. Close friends are a double-edged sword: they can say the words that will heal your emotional wounds, but they can also say the words that cut deep into your heart. I’m not proud of the words I said. His room was empty the next morning, and I never saw him again."},{label:"Don’t leave me",keywords:["stay","fight","argue","promise"],content:"After Dominic left, I could feel Helen becoming more distant. Talking to her felt like I was navigating through the fog, trying to reach out to her somewhere in the mist. I wasn’t going to lose her like we lost Dominic. We’ve put too much into our marriage to let this go. Not like this. And so on our wedding anniversary, I got flowers, chocolate, champagne, and a fancy restaurant meal delivered to our villa. She broke down in tears."},{label:"Tears",keywords:["tears","cried"],content:"She told me that our marriage is a sham. That in the end, we were nothing more than research partners in a failed experiment. That night, she laid facing away from me. Her sobbing went on through the night. I’m ashamed to say I fell asleep that night. The next morning, she packed up and left too."},{label:"The offertory box",keywords:["offertory"],content:"The offertory box sits on the floor beside the entrance to the sanctuary. At the top is a slot for people to deposit money and cheques, and a cross is carved across its front. The lock has been destroyed and the front hatch hangs open like a door. I don’t see anything behind the offertory box, but I find a safe taped to the roof of the box. The letters “H” and “W” are separated by a heart. She had left a message for me."},{label:"The Safe",keywords:["safe","message"],content:"Unlike the offertory box, the safe is securely locked up. A 4-digit number combination lock keeps unwelcome eyes from seeing the message she had left for me. There’s only one possibility. I know the date by heart. One date that had blessed us with happiness and plagued us with sorrow."},{label:"1506",keywords:["1506"],content:"I enter the date of our anniversary and the safe opens up. In it is a letter dated 6th August, 2251. Helen’s beautiful handwriting fills the page.\n\n\n“Dear Walter,” it said.\n\n\n“It has been at least a century since I’ve left you, and not a day goes by that I don’t regret that decision. I pray to God every day that you’re still alive. If you’re reading this letter, I want you to know that I forgive you. Will you please forgive me too?\n\n\n“I’m headed southeast. They say there’s a town called Bakersfield where they are breeding plants and animals that can survive the Scorch. The people there have also set up a makeshift condenser that can collect some of the water from the atmosphere. From what I hear, they are doing quite well for themselves. I’m headed there now, and I’ll see if there’s room for two.\n\n\n“Love, your contrite but hopeful wife, Helen.”"},{label:"Leaving",keywords:["southeast","bakersfield"],content:'The sandstorm outside has subsided, so I put on my balaclava and pick up my backpack. I’m headed for Bakersfield. It’s a four-hour’s drive southeast of here. It would have been four days by foot, but that was before the scorch. Now, I’ll need a month to make it through the mountains. Maybe more to detour to nearby towns to scavenge for supplies. It’s never just an hour’s drive, but it’s been a century since I last saw my wife. What is two months more?\n<p align="center">~ The End ~</p>'}],keywordGroups:{1506:["0615"],year:["years"],age:["ageing","aging","aged"],mary:["mother mary"],supply:["supplies"],eye:["eyes"],pew:["pews"],regret:["regrets"],marriage:["marry","married"],code:["codes"],offertory:["offertory box"],dominic:["dominic peters"],friend:["friends"],ambition:["ambitions","ambitious"],memory:["memories"],happy:["happiness"],satisfaction:["satisfied"],achievement:["achieve","achievements","scientific achievement","scientific achievements"],job:["jobs"],scientist:["scientists"],apocalypse:["post-apocalyptic","apocalyptic"],death:["deaths"],collapse:["collapsed"],nature:["mother nature"],guilt:["guilty"],evangelise:["evangelising","evangelised","evangelism","evangelize","evangelizing","evangelized"],complication:["complications"],synthesis:["synthesise","synthesize"],secret:["secrets"],announce:["announces","announced","announcing","announcement"],discovery:["discoveries"],chemical:["chemicals","chemistry","chemist","chemists"],mice:["mouse","rat"],partner:["partners"],test:["testing","tested"],trials:["trial"],treat:["treated","treatment"],immortal:["immortals","immortality"],profit:["profits","profited","profiting"],humanity:["human","humans"],outcast:["outcasting","outcasted"],riot:["riots"],rhode:["rhode island"],mob:["mobs"],betray:["betraying","betrayed","betrayal"],hiding:["hide","hid","hidden"],fight:["fighting","fought"],argue:["arguing","argued","argument"],promise:["promises","promised"],tears:["tear"],cried:["cry"]},hints:[{required:0,keyword:"church",importance:0,description:"Here I am"},{required:0,keyword:"backpack",importance:0,description:"Where I keep my supplies"},{required:0,keyword:"sandstorm",importance:0,description:"It rages outside"},{required:1,keyword:"sanctuary",importance:0,description:"This hall is smaller than I remembered it"},{required:1,keyword:"mary",importance:0,description:"If she were looking down on me right now, what would she think?"},{required:1,keyword:"pew",importance:0,description:"I once sat here, a long time ago"},{required:1,keyword:"year",importance:0,description:"A long time"},{required:2,keyword:"blame",importance:1,description:"I am my own worst critic"},{required:2,keyword:"ozone",importance:1,description:"Our atmospheric shield"},{required:3,keyword:"death",importance:1,description:"Let it take me now"},{required:3,keyword:"hindsight",importance:1,description:"Looking back…"},{required:3,keyword:"nature",importance:1,description:"She gives and takes away"},{required:4,keyword:"god",importance:1,description:"How did He allow this?"},{required:5,keyword:"sunnyvale",importance:0,description:"This town"},{required:6,keyword:"age",importance:0,description:"Old. Feeling so old…"},{required:7,keyword:"fate",importance:0,description:"How naive we were"},{required:8,keyword:"earth",importance:1,description:"No hope for it now"},{required:8,keyword:"humanity",importance:1,description:"They trusted us"},{required:9,keyword:"dominic",importance:1,description:"He’s my friend. Is? Was? I like to think we still are. I wonder where he is now"},{required:9,keyword:"happy",importance:0,description:"Oh, Helen. You make me feel this way"},{required:9,keyword:"regret",importance:1,description:"Bitterness over the past"},{required:10,keyword:"friend",importance:1,description:"Just our close ones"},{required:10,keyword:"promise",importance:2,description:"It was a vow"},{required:11,keyword:"code",importance:0,description:"Our own language"},{required:12,keyword:"wedding",importance:0,description:"It was a beautiful ceremony"},{required:13,keyword:"offertory",importance:2,description:"Nobody would find it here"},{required:14,keyword:"ambition",importance:1,description:"Goals in life"},{required:14,keyword:"passion",importance:1,description:"We shared this love"},{required:15,keyword:"boston",importance:1,description:"We weren’t suited for life there anyway. At least, that’s what I told myself"},{required:15,keyword:"discovery",importance:1,description:"A finding that couldn’t, no, shouldn’t be hidden"},{required:15,keyword:"job",importance:1,description:"We had bills to pay"},{required:15,keyword:"san francisco",importance:0,description:"We worked here"},{required:16,keyword:"normal",importance:0,description:"We’d never have this life anymore"},{required:17,keyword:"helen",importance:0,description:"Her name"},{required:19,keyword:"food",importance:0,description:"I’ll need to find more soon"},{required:20,keyword:"proposal",importance:1,description:"Perhaps he should not have told us"},{required:21,keyword:"disease",importance:1,description:"A malady"},{required:21,keyword:"eye",importance:0,description:"How can we see through all the sand?"},{required:21,keyword:"scorch",importance:0,description:"We call it that. Such an innocent name for a terrible scourge"},{required:22,keyword:"death",importance:1,description:"I couldn’t bear to see it"},{required:22,keyword:"heat",importance:0,description:"Sweat. I’m sweating everywhere"},{required:22,keyword:"ozone",importance:1,description:"Our shield is gone"},{required:23,keyword:"collapse",importance:0,description:"Everything came tumbling down"},{required:24,keyword:"nature",importance:1,description:"We killed her"},{required:25,keyword:"food",importance:0,description:"Our sustenance"},{required:26,keyword:"evangelise",importance:1,description:"Preach, preach we did"},{required:27,keyword:"elixir",importance:1,description:"The magic potion"},{required:27,keyword:"formula",importance:1,description:"Our special concoction of chemicals"},{required:28,keyword:"secret",importance:1,description:"He wanted to keep it quiet. He didn’t want to let anyone know"},{required:28,keyword:"stay",importance:2,description:"Should’ve made you stay"},{required:29,keyword:"elixir",importance:1,description:"The magic potion"},{required:29,keyword:"immortal",importance:1,description:"Imagine living forever"},{required:29,keyword:"public",importance:1,description:"We wanted everyone to have access to it"},{required:29,keyword:"profit",importance:1,description:"Wealth"},{required:30,keyword:"betray",importance:1,description:"Traitor"},{required:30,keyword:"people",importance:1,description:"Dead, all of them"},{required:30,keyword:"selfish",importance:1,description:"It’s easy to make someone the villain when their goals don’t align with yours"},{required:31,keyword:"death",importance:1,description:"We conquered it"},{required:33,keyword:"breakthrough",importance:1,description:"Finally, something we’ve been trying to do all this while"},{required:33,keyword:"immortal",importance:1,description:"We could transcend death!"},{required:33,keyword:"research",importance:1,description:"We’d have to study this more"},{required:34,keyword:"cure",importance:1,description:"The ultimate medicine"},{required:35,keyword:"chemical",importance:1,description:"Helen and I studied these together"},{required:35,keyword:"compound",importance:1,description:"We synthesised it. The very thing that would spell doom for us"},{required:35,keyword:"passion",importance:1,description:"It’s a special kind of madness"},{required:36,keyword:"god",importance:1,description:"Yet He abandoned us"},{required:36,keyword:"test",importance:1,description:"Every waking moment"},{required:37,keyword:"achievement",importance:0,description:"What are the celebrations about?"},{required:37,keyword:"anniversary",importance:1,description:"Overshadowed by something bigger"},{required:37,keyword:"clinical",importance:1,description:"On to testing"},{required:38,keyword:"cure",importance:1,description:"The ultimate medicine"},{required:38,keyword:"elixir",importance:1,description:"The magic potion"},{required:38,keyword:"success",importance:1,description:"We did it"},{required:38,keyword:"treat",importance:1,description:"We let ourselves take it. Anyone in our shoes would’ve done the same"},{required:39,keyword:"complication",importance:1,description:"We’ll deal with the side effects if it comes to that"},{required:40,keyword:"success",importance:1,description:"We did it"},{required:41,keyword:"announce",importance:1,description:"The revealing of something big"},{required:42,keyword:"ban",importance:1,description:"An imperfect solution to the unsolvable problem"},{required:42,keyword:"findings",importance:1,description:"There’s no taking it back now"},{required:42,keyword:"greed",importance:1,description:"It is only human nature, after all"},{required:42,keyword:"ozone",importance:1,description:"It’s gone now"},{required:43,keyword:"chloropyridine",importance:1,description:"How do you make people fear it when they can’t see it?"},{required:43,keyword:"cure",importance:1,description:"Just one more"},{required:45,keyword:"fallout",importance:1,description:"We made this happen"},{required:45,keyword:"mob",importance:1,description:"Angry, very angry"},{required:46,keyword:"hiding",importance:1,description:"There’s no other choice. We have to run"},{required:46,keyword:"mob",importance:1,description:"They were after blood"},{required:47,keyword:"fight",importance:2,description:"Why do we hurt each other so?"},{required:48,keyword:"tears",importance:2,description:"Her pillow must’ve been wet that night"},{required:48,keyword:"wedding",importance:1,description:"It was our anniversary"},{required:48,keyword:"marriage",importance:1,description:"Too much to lose"},{required:49,keyword:"marriage",importance:1,description:"It’s not a sham"},{required:50,keyword:"message",importance:2,description:"I wonder what’s in it"},{required:51,keyword:"1506",importance:2,description:"Think, think, think. What date could this be?"},{required:52,keyword:"bakersfield",importance:2,description:"I’m heading there now"}],uiConfig:{textTemplates:{logIntroductionMessage:'<h1 style="text-align: center;">The Death of Immortality</h1>\n<b>[1] The wasteland</b>:\nI close the double wooden doors to the church after me. A sandstorm is brewing outside again, and I’m thankful for the shelter. I slip the straps of my hefty backpack off my shoulder, letting it fall to the floor in a puff of fine sand. Without hesitation, I hastily take off my balaclava and outer shirt. Fresh air caresses my skin and I heave a sigh of relief.',pageTitle:"The Death of Immortality",logCreditsMessage:"<b>Credits</b>\n\n\nThanks for playing **The Death of Immortality**. This is the first story to be created for the Shard engine, so I appreciate that you’ve taken the time to give this a go.\n\n\nI was impressed by the text-based storyline in RuneScape’s “The Needle Skips” quest, which inspired me to create this game. If you have feedback, would like to report a bug, or have something nice to say about this game, don’t hesitate to contact me at [@Kenneth_LJS](https://t.me/Kenneth_LJS)."},cssStyles:[".logEntry h1 {\n    font-size: 1.2em;\n}"]},gameConfig:{saveKey:"death-of-immortality"}};
},{}],"InQZ":[function(require,module,exports) {
var e=[[/\*/g,"\\*","asterisks"],[/#/g,"\\#","number signs"],[/\//g,"\\/","slashes"],[/\(/g,"\\(","parentheses"],[/\)/g,"\\)","parentheses"],[/\[/g,"\\[","square brackets"],[/\]/g,"\\]","square brackets"],[/</g,"&lt;","angle brackets"],[/>/g,"&gt;","angle brackets"],[/_/g,"\\_","underscores"]];module.exports=function(r,s){return s=s||[],e.reduce(function(e,r){var a=r[2];return a&&-1!==s.indexOf(a)?e:e.replace(r[0],r[1])},r)};
},{}],"F7mU":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(t,n){"object"===("undefined"==typeof exports?"undefined":u(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):(t="undefined"!=typeof globalThis?globalThis:t||self).marked=n()}(this,function(){"use strict";function e(e,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}function u(e,u){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,u){if(e){if("string"==typeof e)return t(e,u);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,u):void 0}}(e))||u&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n={exports:{}};function r(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:r,changeDefaults:function(e){n.exports.defaults=e}};var i=/[&<>"']/,s=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},D=function(e){return o[e]};var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(c,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var p=/(^|[^\[])\^/g;var g=/[^\w:]/g,f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var F={},A=/^[^:]+:\/*[^/]*$/,d=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k(e,t){F[" "+e]||(A.test(e)?F[" "+e]=e+"/":F[" "+e]=E(e,"/",!0));var u=-1===(e=F[" "+e]).indexOf(":");return"//"===t.substring(0,2)?u?t:e.replace(d,"$1")+t:"/"===t.charAt(0)?u?t:e.replace(C,"$1")+t:e+t}function E(e,t,u){var n=e.length;if(0===n)return"";for(var r=0;r<n;){var i=e.charAt(n-r-1);if(i!==t||u){if(i===t||!u)break;r++}else r++}return e.substr(0,n-r)}var x=function(e,t){if(t){if(i.test(e))return e.replace(s,D)}else if(l.test(e))return e.replace(a,D);return e},m=h,b=function(e,t){e=e.source||e,t=t||"";var u={replace:function(t,n){return n=(n=n.source||n).replace(p,"$1"),e=e.replace(t,n),u},getRegex:function(){return new RegExp(e,t)}};return u},B=function(e,t,u){if(e){var n;try{n=decodeURIComponent(h(u)).replace(g,"").toLowerCase()}catch(r){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!f.test(u)&&(u=k(t,u));try{u=encodeURI(u).replace(/%25/g,"%")}catch(r){return null}return u},w={exec:function(){}},v=function(e){for(var t,u,n=1;n<arguments.length;n++)for(u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},y=function(e,t){var u=e.replace(/\|/g,function(e,t,u){for(var n=!1,r=t;--r>=0&&"\\"===u[r];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(u.length>t)u.splice(t);else for(;u.length<t;)u.push("");for(;n<u.length;n++)u[n]=u[n].trim().replace(/\\\|/g,"|");return u},_=E,z=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var u=e.length,n=0,r=0;r<u;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1},$=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},S=function(e,t){if(t<1)return"";for(var u="";t>1;)1&t&&(u+=e),t>>=1,e+=e;return u+e},T=n.exports.defaults,I=_,R=y,q=x,Z=z;function O(e,t,u){var n=t.href,r=t.title?q(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:u,href:n,title:r,text:i}:{type:"image",raw:u,href:n,title:r,text:q(i)}}var j=function(){function e(e){this.options=e||T}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var u=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?u:I(u,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var u=t[0],n=function(e,t){var u=e.match(/^(\s+)(?:```)/);if(null===u)return t;var n=u[1];return t.split("\n").map(function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e}).join("\n")}(u,t[3]||"");return{type:"code",raw:u,lang:t[2]?t[2].trim():t[2],text:n}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var u=t[2].trim();if(/#$/.test(u)){var n=I(u,"#");this.options.pedantic?u=n.trim():n&&!/ $/.test(n)||(u=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:u}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var u={type:"table",header:R(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(u.header.length===u.align.length){var n,r=u.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(u.align[n])?u.align[n]="right":/^ *:-+: *$/.test(u.align[n])?u.align[n]="center":/^ *:-+ *$/.test(u.align[n])?u.align[n]="left":u.align[n]=null;for(r=u.cells.length,n=0;n<r;n++)u.cells[n]=R(u.cells[n],u.header.length);return u}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var u=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:u}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var u,n,r,i,s,l,a,o,D,c=t[0],h=t[2],p=h.length>1,g={type:"list",raw:c,ordered:p,start:p?+h.slice(0,-1):"",loose:!1,items:[]},f=t[0].match(this.rules.block.item),F=!1,A=f.length;r=this.rules.block.listItemStart.exec(f[0]);for(var d=0;d<A;d++){if(c=u=f[d],this.options.pedantic||(D=u.match(new RegExp("\\n\\s*\\n {0,"+(r[0].length-1)+"}\\S")))&&(s=u.length-D.index+f.slice(d+1).join("\n").length,g.raw=g.raw.substring(0,g.raw.length-s),c=u=u.substring(0,D.index),A=d+1),d!==A-1){if(i=this.rules.block.listItemStart.exec(f[d+1]),this.options.pedantic?i[1].length>r[1].length:i[1].length>=r[0].length||i[1].length>3){f.splice(d,2,f[d]+(!this.options.pedantic&&i[1].length<r[0].length&&!f[d].match(/\n$/)?"":"\n")+f[d+1]),d--,A--;continue}(!this.options.pedantic||this.options.smartLists?i[2][i[2].length-1]!==h[h.length-1]:p===(1===i[2].length))&&(s=f.slice(d+1).join("\n").length,g.raw=g.raw.substring(0,g.raw.length-s),d=A-1),r=i}n=u.length,~(u=u.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(n-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+n+"}","gm"),"")),u=I(u,"\n"),d!==A-1&&(c+="\n"),l=F||/\n\n(?!\s*$)/.test(c),d!==A-1&&(F="\n\n"===c.slice(-2),l||(l=F)),l&&(g.loose=!0),this.options.gfm&&(o=void 0,(a=/^\[[ xX]\] /.test(u))&&(o=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:c,task:a,checked:o,loose:l,text:u})}return g}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):q(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var u={type:"table",header:R(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(u.header.length===u.align.length){u.raw=t[0];var n,r=u.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(u.align[n])?u.align[n]="right":/^ *:-+: *$/.test(u.align[n])?u.align[n]="center":/^ *:-+ *$/.test(u.align[n])?u.align[n]="left":u.align[n]=null;for(r=u.cells.length,n=0;n<r;n++)u.cells[n]=R(u.cells[n].replace(/^ *\| *| *\| *$/g,""),u.header.length);return u}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:q(t[1])}},t.tag=function(e,t,u){var n=this.rules.inline.tag.exec(e);if(n)return!t&&/^<a /i.test(n[0])?t=!0:t&&/^<\/a>/i.test(n[0])&&(t=!1),!u&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?u=!0:u&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(u=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:t,inRawBlock:u,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):q(n[0]):n[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var u=t[2].trim();if(!this.options.pedantic&&/^</.test(u)){if(!/>$/.test(u))return;var n=I(u.slice(0,-1),"\\");if((u.length-n.length)%2==0)return}else{var r=Z(t[2],"()");if(r>-1){var i=(0===t[0].indexOf("!")?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,i).trim(),t[3]=""}}var s=t[2],l="";if(this.options.pedantic){var a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],l=a[3])}else l=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(u)?s.slice(1):s.slice(1,-1)),O(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:l?l.replace(this.rules.inline._escapes,"$1"):l},t[0])}},t.reflink=function(e,t){var u;if((u=this.rules.inline.reflink.exec(e))||(u=this.rules.inline.nolink.exec(e))){var n=(u[2]||u[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var r=u[0].charAt(0);return{type:"text",raw:r,text:r}}return O(u,n,u[0])}},t.emStrong=function(e,t,u){void 0===u&&(u="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!u.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var r=n[1]||n[2]||"";if(!r||r&&(""===u||this.rules.inline.punctuation.exec(u))){var i,s,l=n[0].length-1,a=l,o=0,D="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(D.lastIndex=0,t=t.slice(-1*e.length+l);null!=(n=D.exec(t));)if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(s=i.length,n[3]||n[4])a+=s;else if(!((n[5]||n[6])&&l%3)||(l+s)%3){if(!((a-=s)>0))return s=Math.min(s,s+a+o),Math.min(l,s)%2?{type:"em",raw:e.slice(0,l+n.index+s+1),text:e.slice(1,l+n.index+s)}:{type:"strong",raw:e.slice(0,l+n.index+s+1),text:e.slice(2,l+n.index+s-1)}}else o+=s}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var u=t[2].replace(/\n/g," "),n=/[^ ]/.test(u),r=/^ /.test(u)&&/ $/.test(u);return n&&r&&(u=u.substring(1,u.length-1)),u=q(u,!0),{type:"codespan",raw:t[0],text:u}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var u,n,r=this.rules.inline.autolink.exec(e);if(r)return n="@"===r[2]?"mailto:"+(u=q(this.options.mangle?t(r[1]):r[1])):u=q(r[1]),{type:"link",raw:r[0],text:u,href:n,tokens:[{type:"text",raw:u,text:u}]}},t.url=function(e,t){var u;if(u=this.rules.inline.url.exec(e)){var n,r;if("@"===u[2])r="mailto:"+(n=q(this.options.mangle?t(u[0]):u[0]));else{var i;do{i=u[0],u[0]=this.rules.inline._backpedal.exec(u[0])[0]}while(i!==u[0]);n=q(u[0]),r="www."===u[1]?"http://"+n:n}return{type:"link",raw:u[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}},t.inlineText=function(e,t,u){var n,r=this.rules.inline.text.exec(e);if(r)return n=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):q(r[0]):r[0]:q(this.options.smartypants?u(r[0]):r[0]),{type:"text",raw:r[0],text:n}},e}(),U=w,P=b,L=v,M={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:U,table:U,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};M.def=P(M.def).replace("label",M._label).replace("title",M._title).getRegex(),M.bullet=/(?:[*+-]|\d{1,9}[.)])/,M.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,M.item=P(M.item,"gm").replace(/bull/g,M.bullet).getRegex(),M.listItemStart=P(/^( *)(bull) */).replace("bull",M.bullet).getRegex(),M.list=P(M.list).replace(/bull/g,M.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+M.def.source+")").getRegex(),M._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,M.html=P(M.html,"i").replace("comment",M._comment).replace("tag",M._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),M.paragraph=P(M._paragraph).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M._tag).getRegex(),M.blockquote=P(M.blockquote).replace("paragraph",M.paragraph).getRegex(),M.normal=L({},M),M.gfm=L({},M.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),M.gfm.nptable=P(M.gfm.nptable).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M._tag).getRegex(),M.gfm.table=P(M.gfm.table).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M._tag).getRegex(),M.pedantic=L({},M.normal,{html:P("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",M._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,paragraph:P(M.normal._paragraph).replace("hr",M.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",M.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var N={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:U,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};N.punctuation=P(N.punctuation).replace(/punctuation/g,N._punctuation).getRegex(),N.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,N.escapedEmSt=/\\\*|\\_/g,N._comment=P(M._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),N.emStrong.lDelim=P(N.emStrong.lDelim).replace(/punct/g,N._punctuation).getRegex(),N.emStrong.rDelimAst=P(N.emStrong.rDelimAst,"g").replace(/punct/g,N._punctuation).getRegex(),N.emStrong.rDelimUnd=P(N.emStrong.rDelimUnd,"g").replace(/punct/g,N._punctuation).getRegex(),N._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,N._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,N._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,N.autolink=P(N.autolink).replace("scheme",N._scheme).replace("email",N._email).getRegex(),N._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,N.tag=P(N.tag).replace("comment",N._comment).replace("attribute",N._attribute).getRegex(),N._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,N._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,N._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,N.link=P(N.link).replace("label",N._label).replace("href",N._href).replace("title",N._title).getRegex(),N.reflink=P(N.reflink).replace("label",N._label).getRegex(),N.reflinkSearch=P(N.reflinkSearch,"g").replace("reflink",N.reflink).replace("nolink",N.nolink).getRegex(),N.normal=L({},N),N.pedantic=L({},N.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",N._label).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",N._label).getRegex()}),N.gfm=L({},N.normal,{escape:P(N.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),N.gfm.url=P(N.gfm.url,"i").replace("email",N.gfm._extended_email).getRegex(),N.breaks=L({},N.gfm,{br:P(N.br).replace("{2,}","*").getRegex(),text:P(N.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var X={block:M,inline:N},G=j,V=n.exports.defaults,H=X.block,J=X.inline,K=S;function Q(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function W(e){var t,u,n="",r=e.length;for(t=0;t<r;t++)u=e.charCodeAt(t),Math.random()>.5&&(u="x"+u.toString(16)),n+="&#"+u+";";return n}var Y=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||V,this.options.tokenizer=this.options.tokenizer||new G,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:H.normal,inline:J.normal};this.options.pedantic?(t.block=H.pedantic,t.inline=J.pedantic):this.options.gfm&&(t.block=H.gfm,this.options.breaks?t.inline=J.breaks:t.inline=J.gfm),this.tokenizer.rules=t}t.lex=function(e,u){return new t(u).lex(e)},t.lexInline=function(e,u){return new t(u).inlineTokens(e)};var u,n,r,i=t.prototype;return i.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(e,t,u){var n,r,i,s,l,a,o=this;for(void 0===t&&(t=[]),void 0===u&&(u=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(u){return!!(n=u.call(o,e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)})))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),n.type&&t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),(s=t[t.length-1])&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text):t.push(n);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.nptable(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),n.tokens=this.blockTokens(n.text,[],u),t.push(n);else if(n=this.tokenizer.list(e)){for(e=e.substring(n.raw.length),i=n.items.length,r=0;r<i;r++)n.items[r].tokens=this.blockTokens(n.items[r].text,[],!1);t.push(n)}else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(u&&(n=this.tokenizer.def(e)))e=e.substring(n.raw.length),this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(l=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,u=e.slice(1),n=void 0;o.options.extensions.startBlock.forEach(function(e){"number"==typeof(n=e.call(this,u))&&n>=0&&(t=Math.min(t,n))}),t<1/0&&t>=0&&(l=e.substring(0,t+1))}(),u&&(n=this.tokenizer.paragraph(l)))s=t[t.length-1],a&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text):t.push(n),a=l.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(s=t[t.length-1])&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text):t.push(n);else if(e){var D="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(D);break}throw new Error(D)}return t},i.inline=function(e){var t,u,n,r,i,s,l=e.length;for(t=0;t<l;t++)switch((s=e[t]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},r=s.header.length,u=0;u<r;u++)s.tokens.header[u]=[],this.inlineTokens(s.header[u],s.tokens.header[u]);for(r=s.cells.length,u=0;u<r;u++)for(i=s.cells[u],s.tokens.cells[u]=[],n=0;n<i.length;n++)s.tokens.cells[u][n]=[],this.inlineTokens(i[n],s.tokens.cells[u][n]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(r=s.items.length,u=0;u<r;u++)this.inline(s.items[u].tokens)}return e},i.inlineTokens=function(e,t,u,n){var r,i,s,l=this;void 0===t&&(t=[]),void 0===u&&(u=!1),void 0===n&&(n=!1);var a,o,D,c=e;if(this.tokens.links){var h=Object.keys(this.tokens.links);if(h.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+K("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+K("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(o||(D=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(u){return!!(r=u.call(l,e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)})))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,u,n))e=e.substring(r.raw.length),u=r.inLink,n=r.inRawBlock,(i=t[t.length-1])&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,n)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),i=t[t.length-1],"link"===r.type?(r.tokens=this.inlineTokens(r.text,[],!0,n),t.push(r)):i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,c,D))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],u,n),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],u,n),t.push(r);else if(r=this.tokenizer.autolink(e,W))e=e.substring(r.raw.length),t.push(r);else if(u||!(r=this.tokenizer.url(e,W))){if(s=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,u=e.slice(1),n=void 0;l.options.extensions.startInline.forEach(function(e){"number"==typeof(n=e.call(this,u))&&n>=0&&(t=Math.min(t,n))}),t<1/0&&t>=0&&(s=e.substring(0,t+1))}(),r=this.tokenizer.inlineText(s,n,Q))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(D=r.raw.slice(-1)),o=!0,(i=t[t.length-1])&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);else if(e){var p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}else e=e.substring(r.raw.length),t.push(r);return t},u=t,r=[{key:"rules",get:function(){return{block:H,inline:J}}}],(n=null)&&e(u.prototype,n),r&&e(u,r),t}(),ee=n.exports.defaults,te=B,ue=x,ne=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,u){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,n);null!=r&&r!==e&&(u=!0,e=r)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+ue(n,!0)+'">'+(u?e:ue(e,!0))+"</code></pre>\n":"<pre><code>"+(u?e:ue(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,u,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(u)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,u){var n=t?"ol":"ul";return"<"+n+(t&&1!==u?' start="'+u+'"':"")+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var u=t.header?"th":"td";return(t.align?"<"+u+' align="'+t.align+'">':"<"+u+">")+e+"</"+u+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,u){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return u;var n='<a href="'+ue(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+u+"</a>"},t.image=function(e,t,u){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return u;var n='<img src="'+e+'" alt="'+u+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),re=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,u){return""+u},t.image=function(e,t,u){return""+u},t.br=function(){return""},e}(),ie=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var u=e,n=0;if(this.seen.hasOwnProperty(u)){n=this.seen[e];do{u=e+"-"+ ++n}while(this.seen.hasOwnProperty(u))}return t||(this.seen[e]=n,this.seen[u]=0),u},t.slug=function(e,t){void 0===t&&(t={});var u=this.serialize(e);return this.getNextSafeSlug(u,t.dryrun)},e}(),se=ne,le=re,ae=ie,oe=n.exports.defaults,De=m,ce=Y,he=function(){function e(e){this.options=e||oe,this.options.renderer=this.options.renderer||new se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new le,this.slugger=new ae}e.parse=function(t,u){return new e(u).parse(t)},e.parseInline=function(t,u){return new e(u).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var u,n,r,i,s,l,a,o,D,c,h,p,g,f,F,A,d,C,k,E="",x=e.length;for(u=0;u<x;u++)if(c=e[u],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type])||!1===(k=this.options.extensions.renderers[c.type].call(this,c))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type))switch(c.type){case"space":continue;case"hr":E+=this.renderer.hr();continue;case"heading":E+=this.renderer.heading(this.parseInline(c.tokens),c.depth,De(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":E+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(o="",a="",i=c.header.length,n=0;n<i;n++)a+=this.renderer.tablecell(this.parseInline(c.tokens.header[n]),{header:!0,align:c.align[n]});for(o+=this.renderer.tablerow(a),D="",i=c.cells.length,n=0;n<i;n++){for(a="",s=(l=c.tokens.cells[n]).length,r=0;r<s;r++)a+=this.renderer.tablecell(this.parseInline(l[r]),{header:!1,align:c.align[r]});D+=this.renderer.tablerow(a)}E+=this.renderer.table(o,D);continue;case"blockquote":D=this.parse(c.tokens),E+=this.renderer.blockquote(D);continue;case"list":for(h=c.ordered,p=c.start,g=c.loose,i=c.items.length,D="",n=0;n<i;n++)A=(F=c.items[n]).checked,d=F.task,f="",F.task&&(C=this.renderer.checkbox(A),g?F.tokens.length>0&&"text"===F.tokens[0].type?(F.tokens[0].text=C+" "+F.tokens[0].text,F.tokens[0].tokens&&F.tokens[0].tokens.length>0&&"text"===F.tokens[0].tokens[0].type&&(F.tokens[0].tokens[0].text=C+" "+F.tokens[0].tokens[0].text)):F.tokens.unshift({type:"text",text:C}):f+=C),f+=this.parse(F.tokens,g),D+=this.renderer.listitem(f,d,A);E+=this.renderer.list(D,h,p);continue;case"html":E+=this.renderer.html(c.text);continue;case"paragraph":E+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(D=c.tokens?this.parseInline(c.tokens):c.text;u+1<x&&"text"===e[u+1].type;)D+="\n"+((c=e[++u]).tokens?this.parseInline(c.tokens):c.text);E+=t?this.renderer.paragraph(D):D;continue;default:var m='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(m);throw new Error(m)}else E+=k||"";return E},t.parseInline=function(e,t){t=t||this.renderer;var u,n,r,i="",s=e.length;for(u=0;u<s;u++)if(n=e[u],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type])||!1===(r=this.options.extensions.renderers[n.type].call(this,n))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type))switch(n.type){case"escape":i+=t.text(n.text);break;case"html":i+=t.html(n.text);break;case"link":i+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":i+=t.image(n.href,n.title,n.text);break;case"strong":i+=t.strong(this.parseInline(n.tokens,t));break;case"em":i+=t.em(this.parseInline(n.tokens,t));break;case"codespan":i+=t.codespan(n.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(n.tokens,t));break;case"text":i+=t.text(n.text);break;default:var l='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(l);throw new Error(l)}else i+=r||"";return i},e}(),pe=j,ge=ne,fe=re,Fe=ie,Ae=v,de=$,Ce=x,ke=n.exports.getDefaults,Ee=n.exports.changeDefaults,xe=n.exports.defaults;function me(e,t,u){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(u=t,t=null),t=Ae({},me.defaults,t||{}),de(t),u){var n,r=t.highlight;try{n=ce.lex(e,t)}catch(a){return u(a)}var i=function(e){var i;if(!e)try{t.walkTokens&&me.walkTokens(n,t.walkTokens),i=he.parse(n,t)}catch(a){e=a}return t.highlight=r,e?u(e):u(null,i)};if(!r||r.length<3)return i();if(delete t.highlight,!n.length)return i();var s=0;return me.walkTokens(n,function(e){"code"===e.type&&(s++,setTimeout(function(){r(e.text,e.lang,function(t,u){if(t)return i(t);null!=u&&u!==e.text&&(e.text=u,e.escaped=!0),0===--s&&i()})},0))}),void(0===s&&i())}try{var l=ce.lex(e,t);return t.walkTokens&&me.walkTokens(l,t.walkTokens),he.parse(l,t)}catch(a){if(a.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ce(a.message+"",!0)+"</pre>";throw a}}return me.options=me.setOptions=function(e){return Ae(me.defaults,e),Ee(me.defaults),me},me.getDefaults=ke,me.defaults=xe,me.use=function(){for(var e=this,t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];var r,i=Ae.apply(void 0,[{}].concat(u)),s=me.defaults.extensions||{renderers:{},childTokens:{}};u.forEach(function(t){if(t.extensions&&(r=!0,t.extensions.forEach(function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=s.renderers?s.renderers[e.name]:null;s.renderers[e.name]=t?function(){for(var u=arguments.length,n=new Array(u),r=0;r<u;r++)n[r]=arguments[r];var i=e.renderer.apply(this,n);return!1===i&&(i=t.apply(this,n)),i}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");s[e.level]?s[e.level].unshift(e.tokenizer):s[e.level]=[e.tokenizer],e.start&&("block"===e.level?s.startBlock?s.startBlock.push(e.start):s.startBlock=[e.start]:"inline"===e.level&&(s.startInline?s.startInline.push(e.start):s.startInline=[e.start]))}e.childTokens&&(s.childTokens[e.name]=e.childTokens)})),t.renderer&&function(){var e=me.defaults.renderer||new ge,u=function(u){var n=e[u];e[u]=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=t.renderer[u].apply(e,i);return!1===l&&(l=n.apply(e,i)),l}};for(var n in t.renderer)u(n);i.renderer=e}(),t.tokenizer&&function(){var e=me.defaults.tokenizer||new pe,u=function(u){var n=e[u];e[u]=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=t.tokenizer[u].apply(e,i);return!1===l&&(l=n.apply(e,i)),l}};for(var n in t.tokenizer)u(n);i.tokenizer=e}(),t.walkTokens){var u=me.defaults.walkTokens;i.walkTokens=function(n){t.walkTokens.call(e,n),u&&u(n)}}r&&(i.extensions=s),me.setOptions(i)})},me.walkTokens=function(e,t){for(var n,r=function(){var e=n.value;switch(t(e),e.type){case"table":for(var r,i=u(e.tokens.header);!(r=i()).done;){var s=r.value;me.walkTokens(s,t)}for(var l,a=u(e.tokens.cells);!(l=a()).done;)for(var o,D=u(l.value);!(o=D()).done;){var c=o.value;me.walkTokens(c,t)}break;case"list":me.walkTokens(e.items,t);break;default:me.defaults.extensions&&me.defaults.extensions.childTokens&&me.defaults.extensions.childTokens[e.type]?me.defaults.extensions.childTokens[e.type].forEach(function(u){me.walkTokens(e[u],t)}):e.tokens&&me.walkTokens(e.tokens,t)}},i=u(e);!(n=i()).done;)r()},me.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Ae({},me.defaults,t||{}),de(t);try{var u=ce.lexInline(e,t);return t.walkTokens&&me.walkTokens(u,t.walkTokens),he.parseInline(u,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ce(n.message+"",!0)+"</pre>";throw n}},me.Parser=he,me.parser=he.parse,me.Renderer=ge,me.TextRenderer=fe,me.Lexer=ce,me.lexer=ce.lex,me.Tokenizer=pe,me.Slugger=Fe,me.parse=me,me});
},{}],"ufcH":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):(t=t||self).DOMPurify=n()}(this,function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,a=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,s=c.apply,u=c.construct;s||(s=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),a||(a=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var f,m=x(Array.prototype.forEach),p=x(Array.prototype.pop),d=x(Array.prototype.push),g=x(String.prototype.toLowerCase),h=x(String.prototype.match),y=x(String.prototype.replace),v=x(String.prototype.indexOf),b=x(String.prototype.trim),A=x(RegExp.prototype.test),T=(f=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(f,t)});function x(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(e,t,r)}}function w(e,r){t&&t(e,null);for(var o=r.length;o--;){var i=r[o];if("string"==typeof i){var a=g(i);a!==i&&(n(r)||(r[o]=a),i=a)}e[i]=!0}return e}function S(t){var n=l(null),r=void 0;for(r in t)s(e,t,[r])&&(n[r]=t[r]);return n}function k(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=r(e)}return function(e){return console.warn("fallback value for",e),null}}var E=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=i(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),O=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=i(["#text"]),M=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),I=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),U=a(/<%[\s\S]*|[\s\S]*%>/gm),H=a(/^data-[\-\w.\u00B7-\uFFFF]/),j=a(/^aria-[\-\w]+$/),P=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),W=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var K=function(){return"undefined"==typeof window?null:window},V=function(e,t){if("object"!==(void 0===e?"undefined":G(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(o){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),n=function(t){return e(t)};if(n.version="2.2.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,a=t.DocumentFragment,l=t.HTMLTemplateElement,c=t.Node,s=t.Element,u=t.NodeFilter,f=t.NamedNodeMap,x=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,Y=t.Text,X=t.Comment,$=t.DOMParser,Z=t.trustedTypes,J=s.prototype,Q=k(J,"cloneNode"),ee=k(J,"nextSibling"),te=k(J,"childNodes"),ne=k(J,"parentNode");if("function"==typeof l){var re=o.createElement("template");re.content&&re.content.ownerDocument&&(o=re.content.ownerDocument)}var oe=V(Z,r),ie=oe&&Ie?oe.createHTML(""):"",ae=o,le=ae.implementation,ce=ae.createNodeIterator,se=ae.createDocumentFragment,ue=r.importNode,fe={};try{fe=S(o).documentMode?o.documentMode:{}}catch(pt){}var me={};n.isSupported="function"==typeof ne&&le&&void 0!==le.createHTMLDocument&&9!==fe;var pe=z,de=U,ge=H,he=j,ye=B,ve=W,be=P,Ae=null,Te=w({},[].concat(q(E),q(R),q(_),q(N),q(L))),xe=null,we=w({},[].concat(q(M),q(F),q(C),q(I))),Se=null,ke=null,Ee=!0,Re=!0,_e=!1,De=!1,Ne=!1,Oe=!1,Le=!1,Me=!1,Fe=!1,Ce=!0,Ie=!1,ze=!0,Ue=!0,He=!1,je={},Pe=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Be=null,We=w({},["audio","video","img","source","image","track"]),Ge=null,qe=w({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Ve="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml",Xe=Ye,$e=null,Ze=o.createElement("form"),Je=function(e){$e&&$e===e||(e&&"object"===(void 0===e?"undefined":G(e))||(e={}),e=S(e),Ae="ALLOWED_TAGS"in e?w({},e.ALLOWED_TAGS):Te,xe="ALLOWED_ATTR"in e?w({},e.ALLOWED_ATTR):we,Ge="ADD_URI_SAFE_ATTR"in e?w(S(qe),e.ADD_URI_SAFE_ATTR):qe,Be="ADD_DATA_URI_TAGS"in e?w(S(We),e.ADD_DATA_URI_TAGS):We,Se="FORBID_TAGS"in e?w({},e.FORBID_TAGS):{},ke="FORBID_ATTR"in e?w({},e.FORBID_ATTR):{},je="USE_PROFILES"in e&&e.USE_PROFILES,Ee=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,_e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,De=e.SAFE_FOR_TEMPLATES||!1,Ne=e.WHOLE_DOCUMENT||!1,Me=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Ce=!1!==e.RETURN_DOM_IMPORT,Ie=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,Ue=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||be,Xe=e.NAMESPACE||Xe,De&&(Re=!1),Fe&&(Me=!0),je&&(Ae=w({},[].concat(q(L))),xe=[],!0===je.html&&(w(Ae,E),w(xe,M)),!0===je.svg&&(w(Ae,R),w(xe,F),w(xe,I)),!0===je.svgFilters&&(w(Ae,_),w(xe,F),w(xe,I)),!0===je.mathMl&&(w(Ae,N),w(xe,C),w(xe,I))),e.ADD_TAGS&&(Ae===Te&&(Ae=S(Ae)),w(Ae,e.ADD_TAGS)),e.ADD_ATTR&&(xe===we&&(xe=S(xe)),w(xe,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&w(Ge,e.ADD_URI_SAFE_ATTR),Ue&&(Ae["#text"]=!0),Ne&&w(Ae,["html","head","body"]),Ae.table&&(w(Ae,["tbody"]),delete Se.tbody),i&&i(e),$e=e)},Qe=w({},["mi","mo","mn","ms","mtext"]),et=w({},["foreignobject","desc","title","annotation-xml"]),tt=w({},R);w(tt,_),w(tt,D);var nt=w({},N);w(nt,O);var rt=function(e){d(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(pt){try{e.outerHTML=ie}catch(pt){e.remove()}}},ot=function(e,t){try{d(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(pt){d(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!xe[e])if(Me||Fe)try{rt(t)}catch(pt){}else try{t.setAttribute(e,"")}catch(pt){}},it=function(e){var t=void 0,n=void 0;if(Le)e="<remove></remove>"+e;else{var r=h(e,/^[\r\n\t ]+/);n=r&&r[0]}var i=oe?oe.createHTML(e):e;if(Xe===Ye)try{t=(new $).parseFromString(i,"text/html")}catch(pt){}t&&t.documentElement||((t=le.createDocument(Xe,"template",null)).documentElement.innerHTML=i);var a=t.body||t.documentElement;return e&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),Ne?t.documentElement:a},at=function(e){return ce.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,function(){return u.FILTER_ACCEPT},!1)},lt=function(e){return"object"===(void 0===c?"undefined":G(c))?e instanceof c:e&&"object"===(void 0===e?"undefined":G(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ct=function(e,t,r){me[e]&&m(me[e],function(e){e.call(n,t,r,$e)})},st=function(e){var t,r=void 0;if(ct("beforeSanitizeElements",e,null),!((t=e)instanceof Y||t instanceof X||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof x&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore))return rt(e),!0;if(h(e.nodeName,/[\u0080-\uFFFF]/))return rt(e),!0;var o=g(e.nodeName);if(ct("uponSanitizeElement",e,{tagName:o,allowedTags:Ae}),!lt(e.firstElementChild)&&(!lt(e.content)||!lt(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return rt(e),!0;if(!Ae[o]||Se[o]){if(Ue&&!Pe[o]){var i=ne(e)||e.parentNode,a=te(e)||e.childNodes;if(a&&i)for(var l=a.length-1;l>=0;--l)i.insertBefore(Q(a[l],!0),ee(e))}return rt(e),!0}return e instanceof s&&!function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Ye,tagName:"template"});var n=g(e.tagName),r=g(t.tagName);if(e.namespaceURI===Ve)return t.namespaceURI===Ye?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===r||Qe[r]):Boolean(tt[n]);if(e.namespaceURI===Ke)return t.namespaceURI===Ye?"math"===n:t.namespaceURI===Ve?"math"===n&&et[r]:Boolean(nt[n]);if(e.namespaceURI===Ye){if(t.namespaceURI===Ve&&!et[r])return!1;if(t.namespaceURI===Ke&&!Qe[r])return!1;var o=w({},["title","style","font","a","script"]);return!nt[n]&&(o[n]||!tt[n])}return!1}(e)?(rt(e),!0):"noscript"!==o&&"noembed"!==o||!A(/<\/no(script|embed)/i,e.innerHTML)?(De&&3===e.nodeType&&(r=e.textContent,r=y(r,pe," "),r=y(r,de," "),e.textContent!==r&&(d(n.removed,{element:e.cloneNode()}),e.textContent=r)),ct("afterSanitizeElements",e,null),!1):(rt(e),!0)},ut=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in o||n in Ze))return!1;if(Re&&A(ge,t));else if(Ee&&A(he,t));else{if(!xe[t]||ke[t])return!1;if(Ge[t]);else if(A(be,y(n,ve,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!Be[e])if(_e&&!A(ye,y(n,ve,"")));else if(n)return!1}return!0},ft=function(e){var t=void 0,r=void 0,o=void 0,i=void 0;ct("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(i=a.length;i--;){var c=t=a[i],s=c.name,u=c.namespaceURI;if(r=b(t.value),o=g(s),l.attrName=o,l.attrValue=r,l.keepAttr=!0,l.forceKeepAttr=void 0,ct("uponSanitizeAttribute",e,l),r=l.attrValue,!l.forceKeepAttr&&(ot(s,e),l.keepAttr))if(A(/\/>/i,r))ot(s,e);else{De&&(r=y(r,pe," "),r=y(r,de," "));var f=e.nodeName.toLowerCase();if(ut(f,o,r))try{u?e.setAttributeNS(u,s,r):e.setAttribute(s,r),p(n.removed)}catch(pt){}}}ct("afterSanitizeAttributes",e,null)}},mt=function e(t){var n=void 0,r=at(t);for(ct("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)ct("uponSanitizeShadowNode",n,null),st(n)||(n.content instanceof a&&e(n.content),ft(n));ct("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var i=void 0,l=void 0,s=void 0,u=void 0,f=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!lt(e)){if("function"!=typeof e.toString)throw T("toString is not a function");if("string"!=typeof(e=e.toString()))throw T("dirty is not a string, aborting")}if(!n.isSupported){if("object"===G(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(lt(e))return t.toStaticHTML(e.outerHTML)}return e}if(Oe||Je(o),n.removed=[],"string"==typeof e&&(He=!1),He);else if(e instanceof c)1===(l=(i=it("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName?i=l:"HTML"===l.nodeName?i=l:i.appendChild(l);else{if(!Me&&!De&&!Ne&&-1===e.indexOf("<"))return oe&&Ie?oe.createHTML(e):e;if(!(i=it(e)))return Me?null:ie}i&&Le&&rt(i.firstChild);for(var m=at(He?e:i);s=m.nextNode();)3===s.nodeType&&s===u||st(s)||(s.content instanceof a&&mt(s.content),ft(s),u=s);if(u=null,He)return e;if(Me){if(Fe)for(f=se.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return Ce&&(f=ue.call(r,f,!0)),f}var p=Ne?i.outerHTML:i.innerHTML;return De&&(p=y(p,pe," "),p=y(p,de," ")),oe&&Ie?oe.createHTML(p):p},n.setConfig=function(e){Je(e),Oe=!0},n.clearConfig=function(){$e=null,Oe=!1},n.isValidAttribute=function(e,t,n){$e||Je({});var r=g(e),o=g(t);return ut(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(me[e]=me[e]||[],d(me[e],t))},n.removeHook=function(e){me[e]&&p(me[e])},n.removeHooks=function(e){me[e]&&(me[e]=[])},n.removeAllHooks=function(){me={}},n}()});
},{}],"CRHt":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(a){i=[6,a],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,s=e.length;n<r;n++,s++)e[s]=t[n];return e},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.prompt=exports.promptConfirm=exports.promptAlert=exports.hideSplashScreen=void 0;var i=s(require("markdown-escape")),o=s(require("marked")),a=s(require("dompurify")),l=300,d=-10,h={pageTitle:"The Shard",menuLabelInstructions:"Instructions",menuLabelHint:"Hint",menuLabelToggleShards:"Shards",menuLabelToggleLogs:"Logs",menuLabelReset:"Reset",menuLabelCredits:"Credits",resetPrompt:"Are you sure you want to reset your progress?",resetPromptOk:"OK",resetPromptCancel:"Cancel",inputFieldPlaceholder:"Enter a word…",lockedShardNumber:"${shardNumber}",lockedShardLabel:"???",lockedShardContent:'<br/><p style="text-align: center; opacity: 0.8;"><i>[ This shard has not been unlocked yet ]<i></p><br/>',unlockedShardNumber:"${shardNumber}",unlockedShardLabel:"${shardLabel}",unlockedShardContent:"${shardContent}",logInstructionsMessage:"<b>Instructions</b>: Discover the story by unlocking “shards”. Each shard can be unlocked by entering keywords in the box below. These keywords can be discovered by reading the story shards, and picking out clues from there. The first shard has already been unlocked for you",logIntroductionMessage:void 0,logCompletionMessage:"Congratulations. You have unlocked all the shards",logCreditsMessage:"<b>Credits</b>\n\n\nThanks for playing **The Death of Immortality**. This is the first story to be created for the Shard engine, so I appreciate that you’ve taken the time to give this a go.\n\n\nI was impressed by the text-based storyline in RuneScape’s “The Needle Skips” quest, which inspired me to create this game. If you have feedback, would like to report a bug, or have something nice to say about this game, don’t hesitate to contact me at [@Kenneth_LJS](https://t.me/Kenneth_LJS).",logCommandHelpMessage:["Use any of the following commands to navigate the game<br>","","| Command                           | Instructions                                       |","| --------------------------------- | -------------------------------------------------- |","| `/help` or `/?`                   | Display command help                               |","| `/instructions` or `/i`           | Display the game instructions                      |","| `/hint` or `/h`                   | Request a hint                                     |","| `/view [number]` or `/v [number]` | Display the contents of the shard number specified |","| `/reset` or `/r`                  | Resets the game                                    |"].join("\n"),logCommandInvalidShardMessage:"Shard “${input}” is not a valid shard. It has to be a number from ${min} to ${max}",logCommandInvalidCommandMessage:"Command “${command}” is not recognised. Type “/help” for a list of commands",logLockedShard:"<b>[${shardNumber}]</b> This shard is still locked.",logWordEntered:"You enter the word “${word}”",logIrrelevantWord:"The word “${word}” doesn’t connect to any shard",logRepeatedWordShard:"You have already tried the “${word}”. It’s drawn towards this shard",logRepeatedWordShards:"You have already tried the “${word}”. It’s drawn towards these ${refreshCount} shards",logUnlockNoShards:"The word “${word}” glows, but you unlock no new shards",logUnlockShard:"You unlock ${newCount} new shard",logUnlockShards:"You unlock ${newCount} new shards",logShardContent:"<b>[${shardNumber}] ${shardLabel}</b>:\n\n${shardContent}",logHintGameNoHint:"Hints are not supported in this game",logHintNoHintAvailable:"There are no hints available at the moment. Try again once you have unlocked more shards",logHintNoHintsLeft:"There are no hints left",logHintAllShardsUnlocked:"All the shards are unlocked. Congratulations!",logHintSuccess:"You sense a hint coming from this shard...\n\n<strong>[${shardNumber}] ${shardLabel}</strong>:\n\n${shardContent}\n\n<i>${hintDescription}</i>",tooltipContent:"${shardLabel}"},u=["help","instructions","hint","viewShard","reset","credits","invalid"],c={help:"^/(help\\b|\\?\\s|\\?$)",help__flag:"i",instructions:"^/(instructions|i)\\b",instructions__flag:"i",hint:"^/(hint|h)\\b",hint__flag:"i",viewShard:"^/(view|v)\\s*(?<number>\\d+)",viewShard__flag:"i",reset:"^/(reset|r)\\b",reset__flag:"i",credits:"^/(credits|c)\\b",credits__flag:"i",invalid:"^/",invalid__flag:"i"},m=function(){function s(e,t,n){var r=this;this.gameState="unloaded",this.screenElem=document.querySelector("#screen"),this.shardSector=document.querySelector("#shardSector"),this.shardContainerElem=document.querySelector("#shardContainer"),this.logScrollContainerElem=document.querySelector("#logScrollContainer"),this.logScrollPaddingElem=document.querySelector("#logScrollPadding"),this.logContainerElem=document.querySelector("#logContainer"),this.menuItemInstructionsElem=document.querySelector("#menuItemInstructions"),this.menuItemHintElem=document.querySelector("#menuItemHint"),this.menuItemToggleShardsElem=document.querySelector("#menuItemToggleShards"),this.menuItemToggleLogsElem=document.querySelector("#menuItemToggleLogs"),this.menuItemResetProgressElem=document.querySelector("#menuItemResetProgress"),this.menuItemCreditsElem=document.querySelector("#menuItemCredits"),this.inputField=document.querySelector("#inputField"),this.inputButton=document.querySelector("#inputButton"),this.tooltipElem=document.querySelector("#tooltip"),this.appDisplayIsShardsMode=!1,this.inputHistory={history:[],index:-1,lastWord:void 0},this.requestHintCallback=e,this.inputWordCallback=t,this.resetProgressCallback=n,this.handleClickRequestHint=this.handleClickRequestHint.bind(this),this.handleInputWord=this.handleInputWord.bind(this),this.handleInputFieldKeydown=this.handleInputFieldKeydown.bind(this),this.handleClickShard=this.handleClickShard.bind(this),this.handleShardKeydown=this.handleShardKeydown.bind(this),this.handleClickInstructions=this.handleClickInstructions.bind(this),this.handleClickRequestHint=this.handleClickRequestHint.bind(this),this.toggleIsShardsMode=this.toggleIsShardsMode.bind(this),this.handleClickResetProgress=this.handleClickResetProgress.bind(this),this.handleClickCredits=this.handleClickCredits.bind(this),this.handleViewportChange=b(this.handleViewportChange.bind(this)),this.handleShardMouseEnter=this.handleShardMouseEnter.bind(this),this.handleShardMouseMove=this.handleShardMouseMove.bind(this),this.handleShardMouseLeave=this.handleShardMouseLeave.bind(this),this.textTemplates=h,this.commandTemplates=c,this.imageSources={},this.screenMode="initial",this.updateScreenMode(),window.addEventListener("resize",this.updateScreenMode.bind(this)),this.inputField.addEventListener("keydown",this.handleInputFieldKeydown),this.inputButton.addEventListener("click",this.handleInputWord),this.menuItemInstructionsElem.addEventListener("click",this.handleClickInstructions),this.menuItemHintElem.addEventListener("click",this.handleClickRequestHint),this.menuItemToggleShardsElem.addEventListener("click",function(){return r.toggleIsShardsMode(!0)}),this.menuItemToggleLogsElem.addEventListener("click",function(){return r.toggleIsShardsMode(!1)}),this.menuItemResetProgressElem.addEventListener("click",this.handleClickResetProgress),this.menuItemCreditsElem.addEventListener("click",this.handleClickCredits),this.initalizeViewportHandler(),this.clearUI()}return s.prototype.getScreenMode=function(){return window.innerWidth>=w("--screen-desktop-min-width-px")&&window.innerHeight>=w("--screen-desktop-min-height-px")?"desktop":window.innerWidth>=w("--screen-tablet-min-width-px")&&window.innerHeight>=w("--screen-tablet-min-height-px")?"tablet":"app"},s.prototype.updateScreenMode=function(){var e=this,t=this.screenMode,n=this.getScreenMode();if(t!=n){this.screenMode=n;["desktop","tablet","app"].forEach(function(t){var r="screen__"+t;e.screenElem.classList.contains(r)&&n!=t?e.screenElem.classList.remove(r):e.screenElem.classList.contains(r)||n!=t||e.screenElem.classList.add(r)})}},s.prototype.initalizeViewportHandler=function(){window.visualViewport&&(window.visualViewport.addEventListener("scroll",this.handleViewportChange),window.visualViewport.addEventListener("resize",this.handleViewportChange))},s.prototype.clearUI=function(){this.initializeTextStrings(h),this.textTemplateParamsCache=this.getTextTemplateParams(),p(this.shardContainerElem),p(this.logContainerElem),Array.from(document.querySelectorAll(".customGameStyles")).forEach(function(e){return e.remove()})},s.prototype.initializeUI=function(e,t,n){var s=this;this.inputHistory={history:[],index:-1,lastWord:void 0},this.shardIds=r([],e),this.getShardDataState=t,this.textTemplates=Object.assign({},h,null==n?void 0:n.textTemplates),this.commandTemplates=Object.assign({},c,null==n?void 0:n.commandTemplates),this.imageSources=Object.assign({},c,null==n?void 0:n.imageSources),this.shardUIStateMap={},this.shardIds.forEach(function(e){s.shardUIStateMap[e]="initial"}),this.initAddShards(this.shardIds),this.textTemplates.logIntroductionMessage&&this.addLogEntryFromTemplate(this.textTemplates.logIntroductionMessage),this.isAllShardsUnlocked()&&this.textTemplates.logCompletionMessage&&this.addLogEntryFromTemplate(this.textTemplates.logCompletionMessage),this.inputField.placeholder=this.textTemplates.inputFieldPlaceholder,this.initializeTextStrings(this.textTemplates),this.textTemplateParamsCache=this.getTextTemplateParams(),((null==n?void 0:n.cssStyles)||[]).forEach(function(e){var t,n=document.createElement("style");n.classList.add("customGameStyles"),n.innerHTML=e,null===(t=document.querySelector("head"))||void 0===t||t.append(n)}),this.gameState},s.prototype.initializeTextStrings=function(e){document.title=e.pageTitle,this.menuItemInstructionsElem.innerHTML=this.templateToHTML(e.menuLabelInstructions),this.menuItemHintElem.innerHTML=this.templateToHTML(e.menuLabelHint),this.menuItemToggleShardsElem.innerHTML=this.templateToHTML(e.menuLabelToggleShards),this.menuItemToggleLogsElem.innerHTML=this.templateToHTML(e.menuLabelToggleLogs),this.menuItemResetProgressElem.innerHTML=this.templateToHTML(e.menuLabelReset),this.menuItemCreditsElem.innerHTML=this.templateToHTML(e.menuLabelCredits)},s.prototype.handleClickInstructions=function(){this.menuItemInstructionsElem.blur(),this.toggleIsShardsMode(!1),this.textTemplates.logInstructionsMessage&&this.addLogEntryFromTemplate(this.textTemplates.logInstructionsMessage)},s.prototype.handleClickRequestHint=function(){this.menuItemHintElem.blur(),this.toggleIsShardsMode(!1),this.requestHintCallback()},s.prototype.handleInputWord=function(){var e=this.inputField.value.trim();0!=e.length&&(this.inputField.value="",this.inputWord(e))},s.prototype.handleInputFieldKeydown=function(e){if(!e.defaultPrevented)if("Enter"!=e.key){if("ArrowUp"==e.key||"ArrowDown"==e.key){if(e.preventDefault(),0==this.inputHistory.history.length)return;return-1==this.inputHistory.index&&(this.inputHistory.lastWord=this.inputField.value),this.inputHistory.index+="ArrowDown"==e.key?-1:1,this.inputHistory.index=Math.min(Math.max(this.inputHistory.index,-1),this.inputHistory.history.length-1),this.inputField.value=-1==this.inputHistory.index?this.inputHistory.lastWord||"":this.inputHistory.history[this.inputHistory.history.length-1-this.inputHistory.index],void(this.inputField.selectionStart=this.inputField.value.length)}this.inputHistory.index=-1}else this.handleInputWord()},s.prototype.handleClickShard=function(e,t){void 0===t&&(t=!0),t&&document.querySelector('[data-shard-id="'+e+'"]').blur(),this.getShardDataState(e).isUnlocked?(this.addLogShardContent(e),"new"!=this.getShardUIState(e)&&"refresh"!=this.getShardUIState(e)||this.updateShardUIState(e,"unlocked")):this.addLogShardLocked(e)},s.prototype.handleShardKeydown=function(e,t){var n=e.target;if("ArrowLeft"==e.key&&n.previousElementSibling)n.previousElementSibling.focus();else if("ArrowRight"==e.key&&n.nextElementSibling)n.nextElementSibling.focus();else if("ArrowUp"==e.key||"ArrowDown"==e.key){for(var r=getComputedStyle(this.shardContainerElem)["grid-template-columns"].split(" ").length,s=n,i=0;i<r&&s;i++)s=s["ArrowUp"==e.key?"previousElementSibling":"nextElementSibling"];s&&s.focus()}else"Enter"==e.key?this.handleClickShard(t,!1):"Escape"==e.key&&n.blur()},s.prototype.toggleIsShardsMode=function(e){this.menuItemToggleShardsElem.blur(),this.menuItemToggleLogsElem.blur(),void 0===e&&(e=!this.appDisplayIsShardsMode),this.appDisplayIsShardsMode=e,this.appDisplayIsShardsMode?this.screenElem.classList.add("screen__shardsMode"):this.screenElem.classList.remove("screen__shardsMode")},s.prototype.handleClickResetProgress=function(){return t(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return this.menuItemResetProgressElem.blur(),[4,M(this.textTemplates.resetPrompt,this.textTemplates.resetPromptOk,this.textTemplates.resetPromptCancel,!1)];case 1:return e.sent()?(this.toggleIsShardsMode(!1),this.resetProgressCallback(),[2]):[2]}})})},s.prototype.handleClickCredits=function(){this.menuItemCreditsElem.blur(),this.toggleIsShardsMode(!1),this.addLogEntryFromTemplate(this.textTemplates.logCreditsMessage)},s.prototype.handleCommand=function(e){var t=k(e,this.commandTemplates);if(!t.success)return!1;if("help"==t.command)this.addLogEntryFromTemplate(this.textTemplates.logCommandHelpMessage);else if("instructions"==t.command)this.handleClickInstructions();else if("hint"==t.command)this.handleClickRequestHint();else if("viewShard"==t.command){var n=parseInt((t.groups||{number:"0"}).number);if(isNaN(n)||n<=0||n>this.shardIds.length)return this.addLogEntryFromTemplate(this.textTemplates.logCommandInvalidShardMessage,{input:(t.groups||{number:"0"}).number,min:"1",max:""+this.shardIds.length}),!0;var r=n-1;this.handleClickShard(this.shardIds[r])}else"reset"==t.command?this.handleClickResetProgress():"credits"==t.command?this.handleClickCredits():"invalid"==t.command&&this.addLogEntryFromTemplate(this.textTemplates.logCommandInvalidCommandMessage,{command:e});return!0},s.prototype.handleViewportChange=function(e){var t=e.target;this.screenElem.style.position="absolute",this.screenElem.style.left=t.offsetLeft+"px",this.screenElem.style.top=t.offsetTop+"px",this.screenElem.style.width=t.width+"px",this.screenElem.style.height=t.height+"px"},s.prototype.handleShardMouseEnter=function(e,t){var n=this.getShardDataState(t);n.isUnlocked&&(this.tooltipElem.innerHTML=this.templateToHTML(this.textTemplates.tooltipContent,this.getTemplateParamsFromShardDataState(n)),this.tooltipElem.style.transform="translate("+e.x+"px, "+e.y+"px)",this.tooltipElem.classList.remove("hidden"))},s.prototype.handleShardMouseMove=function(e,t){this.tooltipElem.style.transform="translate("+e.x+"px, "+e.y+"px)"},s.prototype.handleShardMouseLeave=function(e,t){this.tooltipElem.classList.add("hidden")},s.prototype.updateFromInputWordResponse=function(e){this.updateLogFromInputWordResponse(e),this.updateShardsFromInputWordResponse(e),this.updateIsShardsMode(e)},s.prototype.updateLogFromInputWordResponse=function(e){var t,n=this,s=e.shardUpdates.filter(function(e){return e.isNew}),i=s.length,o=e.shardUpdates.length-i,a={newCount:f(i),refreshCount:f(o),word:f(e.inputWord)};"success"==e.type?t=[this.textTemplates.logUnlockNoShards,this.textTemplates.logUnlockShard,this.textTemplates.logUnlockShards][Math.min(i,2)]:"repeated"==e.type?t=[this.textTemplates.logRepeatedWordShard,this.textTemplates.logRepeatedWordShards][e.shardUpdates.length>1?1:0]:"invalid"==e.type&&(t=this.textTemplates.logIrrelevantWord);var l=this.templateToHTML(t,a),d=this.makeLogEntry(l),h=s.map(function(e){return n.makeLogShardContent(e.shardId)}),u=r(r([],t?[d]:[]),h);e.isAllShardsUnlocked&&i>0&&this.textTemplates.logCompletionMessage&&u.push(this.makeLogEntry(this.templateToHTML(this.textTemplates.logCompletionMessage))),this.addLogEntries(u)},s.prototype.inputWord=function(e){this.inputHistory.index=-1,0!=this.inputHistory.history.length&&this.inputHistory.history[this.inputHistory.history.length-1]==e||this.inputHistory.history.push(e),this.handleCommand(e)||(this.addLogWordEntered(e),this.inputWordCallback(e))},s.prototype.updateLogFromHintResponse=function(t){var n,r={};if("game-no-hint"==t.type)n=this.textTemplates.logHintGameNoHint;else if("no-hint-available"==t.type)n=this.textTemplates.logHintNoHintAvailable;else if("no-hints-left"==t.type)n=this.textTemplates.logHintNoHintsLeft;else if("all-shards-unlocked"==t.type)n=this.textTemplates.logHintAllShardsUnlocked;else if("success"==t.type){var s=this.getShardDataState(t.shardId);n=this.textTemplates.logHintSuccess,r=e(e({},this.getTemplateParamsFromShardDataState(s)),{hintDescription:t.description})}this.addLogEntryFromTemplate(n,r)},s.prototype.updateShardsFromInputWordResponse=function(e){var t=this,n={};this.shardIds.forEach(function(e){n[e]=t.getShardDataState(e).isUnlocked?"unlocked":"locked"}),e.shardUpdates.forEach(function(e){n[e.shardId]=e.isNew?"new":"refresh"}),this.shardIds.forEach(function(e){var r=n[e];t.updateShardUIState(e,r)}),this.shardUIStateMap=n},s.prototype.updateIsShardsMode=function(e){e.shardUpdates.filter(function(e){return e.isNew}).length>0&&this.toggleIsShardsMode(!1)},s.prototype.initAddShards=function(e){var t,n=this,r=e.map(function(e){return n.createShardElement(e)});null===(t=document.querySelector("#shardContainer"))||void 0===t||t.append.apply(t,r)},s.prototype.createShardElement=function(e){var t=this,n=this.getShardDataState(e).isUnlocked?"unlocked":"locked",r=document.querySelector("#shardTemplate").content.cloneNode(!0).children[0];return r.setAttribute("data-shard-id",e),r.addEventListener("click",function(){return t.handleClickShard(e)}),r.addEventListener("keydown",function(n){return t.handleShardKeydown(n,e)}),r.addEventListener("mouseenter",function(n){return t.handleShardMouseEnter(n,e)}),r.addEventListener("mousemove",function(n){return t.handleShardMouseMove(n,e)}),r.addEventListener("mouseleave",function(n){return t.handleShardMouseLeave(n,e)}),this.updateShardElement(r,e,n),r},s.prototype.isAllShardsUnlocked=function(){var e=this;return this.shardIds.reduce(function(t,n){var r=e.getShardDataState(n);return t&&r.isUnlocked},!0)},s.prototype.getShardUIState=function(e){return this.shardUIStateMap[e]},s.prototype.setShardUIState=function(e,t){this.shardUIStateMap[e]=t},s.prototype.updateShardUIState=function(e,t){var n=Array.from(this.shardContainerElem.children).filter(function(t){return t.getAttribute("data-shard-id")==e})[0];this.updateShardElement(n,e,t)},s.prototype.updateShardElement=function(r,s,i){return t(this,void 0,void 0,function(){var t,o,a,l,d,h;return n(this,function(n){switch(n.label){case 0:return t=this.getShardUIState(s),this.setShardUIState(s,i),o=this.getShardDataState(s),a=this.getTemplateParamsFromShardDataState(o),l=o.isUnlocked?this.textTemplates.unlockedShardNumber:this.textTemplates.lockedShardNumber,d=o.isUnlocked?this.textTemplates.unlockedShardLabel:this.textTemplates.lockedShardLabel,h=o.isUnlocked?this.textTemplates.unlockedShardContent:this.textTemplates.lockedShardContent,r.querySelector(".shardBoxNumber").innerHTML=this.templateToHTML(l,e({},a)),r.querySelector(".shardBoxLabel").innerHTML=this.templateToHTML(d,e({},a)),r.querySelector(".shardBoxText").innerHTML=this.templateToHTML(h,e({},a)),this.processShardContentElem(r),o.isUnlocked?(r.classList.add("shard__unlocked"),r.classList.remove("shard__locked")):(r.classList.remove("shard__unlocked"),r.classList.add("shard__locked")),"refresh"==t?r.classList.remove("shard__refresh"):"new"==t&&r.classList.remove("shard__new"),"refresh"!=i?[3,3]:[4,S(r,"shard__refresh")];case 1:return n.sent(),[4,y(100)];case 2:return n.sent(),r.classList.add("shard__refresh"),[3,4];case 3:"new"==i&&r.classList.add("shard__new"),n.label=4;case 4:return[2]}})})},s.prototype.addLogShardLocked=function(e){var t=this.getShardDataState(e),n=this.templateToHTML(this.textTemplates.logLockedShard,{shardNumber:f(t.shardNumber)}),r=this.makeLogEntry(n);this.addLogEntries(r)},s.prototype.addLogShardContent=function(e){var t=this.makeLogShardContent(e);this.addLogEntries(t)},s.prototype.addLogWordEntered=function(e){if(this.textTemplates.logWordEntered){var t=this.templateToHTML(this.textTemplates.logWordEntered,{word:f(e)}),n=this.makeLogEntry(t);this.addLogEntries(n,!1)}},s.prototype.makeLogShardContent=function(e){var t=this.getShardDataState(e),n=this.templateToHTML(this.textTemplates.logShardContent,this.getTemplateParamsFromShardDataState(t));return this.makeLogEntry(n)},s.prototype.makeLogEntry=function(e){var t=document.createElement("div");return t.classList.add("logEntry"),"string"==typeof e?t.innerHTML=e:e instanceof DocumentFragment?t.append(e):t.append.apply(t,e),this.processShardContentElem(t),t},s.prototype.addLogEntryFromTemplate=function(e,r){return t(this,void 0,void 0,function(){var t,s;return n(this,function(n){return t=this.templateToHTML(e,r),s=this.makeLogEntry(t),this.addLogEntries(s),[2]})})},s.prototype.addLogEntries=function(e,r){return t(this,void 0,void 0,function(){var s=this;return n(this,function(i){switch(i.label){case 0:return e instanceof Array||(e=[e]),void 0===r&&(r=!0),[4,Promise.all(e.map(function(e){return t(s,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return e.classList.add("hidden"),[4,v(this.logContainerElem,e)];case 1:return t.sent(),[4,y(100)];case 2:return t.sent(),e.classList.remove("hidden"),[2]}})})}))];case 1:return i.sent(),r&&this.scrollToLogEntry(e[0]),[2]}})})},s.prototype.processShardContentElem=function(e){var t=this;Array.from(e.querySelectorAll("a")).forEach(function(e){var n=e.getAttribute("data-link-word"),r=e.getAttribute("data-link-shard");if(n&&r){var s=n.split(",").map(function(e){return e.trim()});return e.addEventListener("click",function(e){e.preventDefault(),s.forEach(function(e){return t.inputWord(e)})}),e.removeAttribute("data-link-word"),void e.removeAttribute("data-link-shard")}e.target="_blank",e.rel="noreferrer"}),Array.from(e.querySelectorAll("pre code")).forEach(function(e){null!==e.textContent&&(e.textContent=e.textContent.replace(/^\n/,""))})},s.prototype.scrollToLogEntry=function(e){return t(this,void 0,void 0,function(){var t,r,s=this;return n(this,function(n){switch(n.label){case 0:return t=e.offsetTop-this.logScrollContainerElem.offsetTop+d,r=Math.min(t,this.logScrollContainerElem.scrollHeight-this.logScrollContainerElem.offsetHeight),[4,L(r-this.logScrollContainerElem.scrollTop,l,T,function(e){return s.logScrollContainerElem.scrollTop+=e},Math.round)];case 1:return n.sent(),[2]}})})},s.prototype.getTemplateParamsFromShardDataState=function(e){return{shardNumber:e.shardNumber,shardLabel:e.label,shardContent:e.content,isUnlocked:e.isUnlocked}},s.prototype.templateToHTML=function(t,n){var r=g(t,e(e({},n),this.textTemplateParamsCache));return r=this.parseHtmlImageSrc(r)},s.prototype.getTextTemplateParams=function(){var e=this,t={};return Object.keys(this.textTemplates).forEach(function(n){t["text."+n]=e.textTemplates[n]}),t},s.prototype.parseHtmlImageSrc=function(e){var t=this;return e.replace(/<img([^">]*"[^"]*")*[^">]*>/gi,function(e){return e.replace(/(src=")([^"]+)(")/g,function(e,n,r,s){return"$"===r.charAt(0)&&(r=t.imageSources[r.substr(1)]||r),n+r+s})})},s}();function p(e){for(;e.firstChild;)e.firstChild.remove()}function g(e,t){void 0===t&&(t={});var n=e.replace(/\${([^}]+)}/g,function(e,n){return t[n]||""}),r=o.default(n);return a.default.sanitize(r)}function f(e){return i.default(e.toString())}function y(e){return t(this,void 0,void 0,function(){return n(this,function(t){return[2,new Promise(function(t){setTimeout(t,e)})]})})}function S(e,r){return t(this,void 0,void 0,function(){return n(this,function(t){return[2,new Promise(function(t){var n=new MutationObserver(function(){e.classList.contains(r)||(n.disconnect(),t())});n.observe(e,{attributes:!0,attributeFilter:["class"]}),e.classList.contains(r)||(n.disconnect(),t())})]})})}function v(e,r){return t(this,void 0,void 0,function(){var t;return n(this,function(n){return t=new Promise(function(t){var n=new MutationObserver(function(){e.contains(r)&&(n.disconnect(),t())});n.observe(e,{childList:!0})}),e.append(r),[2,t]})})}function b(e){var t=!1;return function(n){t||(t=!0,requestAnimationFrame(function(){t=!1,e(n)}))}}function T(e){return e=Math.min(Math.max(e,0),1),1-Math.pow(e-1,2)}function L(e,r,s,i,o){return void 0===o&&(o=function(e){return e}),t(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){var n=void 0,a=0;window.requestAnimationFrame(function l(d){void 0===n&&(n=d,window.requestAnimationFrame(l));var h=(d-n)/r,u=Math.min(Math.max(h,0),1),c=o(s(u)*e);i(c-a),a=c,u<1?window.requestAnimationFrame(l):t()})})];case 1:return t.sent(),[2]}})})}function k(e,t){var n={success:!1};return u.forEach(function(r){if(!n.success){var s=t[r],i=t[r+"__flag"],o=RegExp(s,i),a=e.match(o);null!==a&&(n={success:!0,command:r,groups:a.groups})}}),n}function E(e){return getComputedStyle(document.documentElement).getPropertyValue(e).trim()}function w(e){return parseFloat(E(e))}function C(e){var t,n=E(e),r=1;return n.endsWith("ms")?(r=1,t=n.substring(0,n.length-2)):n.endsWith("s")&&(r=1e3,t=n.substring(0,n.length-1)),parseFloat(t.trim())*r}function I(e){var t=document.querySelector("#splashScreen");e&&t.classList.add("noAnimation"),t.classList.add("hidden")}function x(e,r){return t(this,void 0,Promise,function(){return n(this,function(t){switch(t.label){case 0:return[4,H(e,[{label:r}])];case 1:return t.sent(),[2]}})})}function M(e,r,s,i){return t(this,void 0,Promise,function(){return n(this,function(t){switch(t.label){case 0:return[4,H(e,[{id:"OK",label:r},{id:"Cancel",label:s}],!1===i?1:0)];case 1:return[2,"OK"==t.sent()]}})})}function H(e,r,s){return void 0===s&&(s=0),t(this,void 0,void 0,function(){var i=this;return n(this,function(o){return[2,new Promise(function(o){return t(i,void 0,void 0,function(){var t,i,a;return n(this,function(n){switch(n.label){case 0:return(t=document.querySelector("#promptTemplate").content.cloneNode(!0).children[0]).querySelector(".promptMessage").innerHTML=g(e),(i=t.querySelector(".promptButtons")).classList.add("buttonCount"+r.length),(a=r.map(function(e){var n=document.createElement("button");return n.classList.add("promptButton"),n.tabIndex=0,n.innerHTML=g(e.label),n.addEventListener("click",function(){return function(e){t.classList.add("hidden");var n=C("--prompt-transition-duration");setTimeout(function(){return t.remove()},n),o(e)}(e.id)}),n})).forEach(function(e,t){e.addEventListener("keydown",function(e){e.defaultPrevented||("ArrowLeft"==e.key&&t>0?a[t-1].focus():"ArrowRight"==e.key&&t<a.length-1&&a[t+1].focus())})}),a.forEach(function(e){i.append(e)}),t.classList.add("hidden"),[4,v(document.body,t)];case 1:return n.sent(),[4,y(100)];case 2:return n.sent(),t.classList.remove("hidden"),i.children[s].focus(),[2]}})})})]})})}exports.default=m,exports.hideSplashScreen=I,exports.promptAlert=x,exports.promptConfirm=M,exports.prompt=H,window.exportTextTemplates=function(){var e=["!text"],t=[];Object.keys(h).forEach(function(n){var r=h[n];void 0===r?e.push(n+" = "):r.includes("\n")?(t.push("==="),t.push("!text-multiline"),t.push(n),t.push(r)):e.push(n+" = "+r)}),console.log(e.join("\n")+"\n"+t.join("\n"))},window.exportCommandTemplates=function(){var e=["!command"],t=["!command"];u.forEach(function(n){var r=c[n],s=c[n+"__flag"];e.push(n+" = "+r),t.push(n+"__flag = "+s)}),console.log(e.join("\n")+"\n===\n"+t.join("\n"))};
},{"markdown-escape":"InQZ","marked":"F7mU","dompurify":"ufcH"}],"svBx":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var r,e=1,a=arguments.length;e<a;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateGameSaveState=exports.validateSerializedGameSaveState=exports.getInitialGameSaveState=exports.deserializeGameSaveState=exports.serializeGameSaveState=void 0;var r=function(){function r(r,o){var n=this;if(o||(o=i()),this.gameData=r,this.shardDataStates=r.shards.map(function(r,a){return t(t({},r),{id:e(),shardNumber:a+1,isUnlocked:0==r.keywords.length})}),this.shardIdOrder=this.shardDataStates.map(function(t){return t.id}),this.shardDataStateMap={},this.shardDataStates.forEach(function(t){n.shardDataStateMap[t.id]=t}),this.testedKeywords=new Set,this.keywordGroupMap={},this.gameData.shards.forEach(function(t){t.keywords.forEach(function(t){n.keywordGroupMap[t]=t})}),r.keywordGroups){var d=function(t){var e=a(t);r.keywordGroups[t].forEach(function(t){var r=a(t);n.keywordGroupMap[r]=e})};for(var s in r.keywordGroups)d(s)}this.keywordGroupShardIdMap={},this.shardDataStates.forEach(function(t){t.keywords.forEach(function(r){var e=a(r);n.keywordGroupShardIdMap.hasOwnProperty(e)||(n.keywordGroupShardIdMap[e]=[]),n.keywordGroupShardIdMap[e].push(t.id)})}),this.gameData.hints&&(this.hints=this.gameData.hints.map(function(t){return{requiredShardId:n.getShardIdFromIndex(t.required),unlockShardIds:n.getUnlockedShardIdsFromWord(t.keyword),importance:t.importance,description:t.description}})),this.loadFromGameSaveState(o)}return r.prototype.loadFromGameSaveState=function(t){var r=this;t.keywords.forEach(function(t){var e=r.getKeywordGroup(t);e&&r.inputWord(e)})},r.prototype.requestHint=function(){var t=this;if(!this.hints)return{type:"game-no-hint"};if(this.isAllShardsUnlocked())return{type:"all-shards-unlocked"};var r=this.hints.filter(function(r){return 0!=r.unlockShardIds.filter(function(r){return!t.getShardDataState(r).isUnlocked}).length});if(0==r.length)return{type:"no-hints-left"};var e=r.filter(function(r){return!!t.getShardDataState(r.requiredShardId).isUnlocked});if(0==e.length)return{type:"no-hint-available"};var a=e.reduce(function(t,r){return Math.min(t,r.importance)},1/0),o=e.filter(function(t){return t.importance==a}),n=o[Math.floor(Math.random()*o.length)];return{type:"success",shardId:n.requiredShardId,description:n.description}},r.prototype.inputWord=function(t){var r=this,e=this.getUnlockedShardIdsFromWord(t).map(function(t){var e=r.shardDataStateMap[t];if(e.isUnlocked){if(e.isUnlocked)return{shardId:t,isNew:!1};throw console.error("Shard data state ["+e.isUnlocked+"] is not recognized",e),"Shard data state ["+e.isUnlocked+"] is not recognized"}return e.isUnlocked=!0,{shardId:t,isNew:!0}}),o=this.getKeywordGroup(t),n=o?this.testedKeywords.has(o)?"repeated":"success":"invalid";return o&&this.testedKeywords.add(o),{type:n,inputWord:t,normalizedInputWord:a(t),shardUpdates:e,isAllShardsUnlocked:this.isAllShardsUnlocked()}},r.prototype.getKeywordGroup=function(t){var r=a(t);return this.keywordGroupMap[r]},r.prototype.getUnlockedShardIdsFromWord=function(t){var r=this.getKeywordGroup(t);return r&&this.keywordGroupShardIdMap[r]||[]},r.prototype.getShardIdOrder=function(){return this.shardIdOrder},r.prototype.getShardIdFromIndex=function(t){return this.shardIdOrder[t]},r.prototype.getShardDataState=function(t){return this.shardDataStateMap[t]},r.prototype.isAllShardsUnlocked=function(){return this.shardDataStates.reduce(function(t,r){return t&&r.isUnlocked},!0)},r.prototype.getGameSaveState=function(){return{keywords:Array.from(this.testedKeywords)}},r}();exports.default=r;var e=function(){var t=new Set,r="abcdefghjiklmnopqrstuvwxyzABCDEFGHJIKLMNOPQRSTUVWXYZ0123456789";function e(){return new Array(10).fill(void 0).map(function(){return r.charAt(Math.floor(Math.random()*r.length))}).join("")}return function(){for(var r=e();t.has(r);)r=e();return t.add(r),r}}();function a(t){return t.toLowerCase()}function o(t){return JSON.stringify(t)}function n(t){return JSON.parse(t)}function i(){return{keywords:[]}}function d(t){var r;try{r=n(t)}catch(e){return"invalid json"}return s(r)}function s(t){return t.hasOwnProperty("keywords")?t.keywords instanceof Array?t.keywords.reduce(function(t,r){return t||"string"!=typeof r},!1)?'"keywords" property is not an array of strings':void 0:'"keywords" property is not an array':'"keywords" property not found'}exports.serializeGameSaveState=o,exports.deserializeGameSaveState=n,exports.getInitialGameSaveState=i,exports.validateSerializedGameSaveState=d,exports.validateGameSaveState=s;
},{}],"Ue4l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.basicDecryptString=exports.basicEncryptString=exports.decrypt_v2=exports.encrypt_v2=exports.decrypt_v1=exports.encrypt_v1=exports.base64Chars=void 0,"undefined"==typeof TextEncoder&&(TextEncoder=window.TextEncoder),"undefined"==typeof TextDecoder&&(TextDecoder=window.TextDecoder),exports.base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-";var e="kenneth-ljs".split("").map(function(e){return e.charCodeAt(0)});function r(e){return o(JSON.stringify(e))}function t(e){var r=a(e);return JSON.parse(r)}function s(e){var t=r(e).split("");return t.reverse(),t.join("")}function n(e){var r=e.split("");return r.reverse(),t(r.join(""))}function o(r){var t=(new TextEncoder).encode(r).map(function(r,t){return(r+e[t%e.length]+256)%256}),s=[];return t.forEach(function(e,r){if(r%3==0){var n=t[r],o=t[r+1]||0;s.push(exports.base64Chars.charAt(n>>2)),s.push(exports.base64Chars.charAt((3&n)<<4|o>>4))}else if(r%3==1){n=t[r],o=t[r+1]||0;s.push(exports.base64Chars.charAt((15&n)<<2|o>>6))}else if(r%3==2){n=t[r];s.push(exports.base64Chars.charAt(63&n))}}),s.join("")}function a(r){var t=[];r.split("").forEach(function(e,s){if(s%4!=0)if(s%4==1){var n=exports.base64Chars.indexOf(r.charAt(s-1)),o=exports.base64Chars.indexOf(r.charAt(s));t.push(n<<2|o>>4)}else if(s%4==2){n=exports.base64Chars.indexOf(r.charAt(s-1)),o=exports.base64Chars.indexOf(r.charAt(s));t.push((15&n)<<4|o>>2)}else if(s%4==3){n=exports.base64Chars.indexOf(r.charAt(s-1)),o=exports.base64Chars.indexOf(r.charAt(s));t.push((3&n)<<6|o)}});var s=new Uint8Array(t.map(function(r,t){return(r-e[t%e.length]+256)%256}));return(new TextDecoder).decode(s)}exports.encrypt_v1=r,exports.decrypt_v1=t,exports.encrypt_v2=s,exports.decrypt_v2=n,exports.basicEncryptString=o,exports.basicDecryptString=a;
},{}],"nroR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeRawGameData=exports.encodeRawGameData__0_0_2=exports.exportRawGameData=void 0;var e=require("./crypto");function t(e){return e.startsWith("!encoded\n")||e.startsWith("!encoded-0.0.1\n")?w(e):e.startsWith("!encoded-0.0.2\n")?x(e):v(n(e))}function n(e){var t=e.split("\n"),n=j(t=t.map(function(e){return e.replace(/[\r\n]+$/,"")}),"==="),o={shards:[],shardIndexMap:{},hints:[],keywordGroups:{},textTemplates:{},commandTemplates:{},cssStyles:[],gameConfig:{},imageSources:{}};return n.forEach(function(e){return r(e,o)}),o}function r(e,t){0==e.length||(0==e[0].length?console.warn("The first line of a block cannot be empty. Block ignored",e):"#"==e[0].charAt(0)||("!"==e[0].charAt(0)?o(e,t):e.length>=3?a(e,t):console.warn("Block not recognized. Block ignored",e)))}function o(e,t){var n=e[0].substr(1);"keyword"==n?s(e,t):"text"==n?p(e,t):"text-multiline"==n?h(e,t):"style"==n?m(e,t):"game"==n?f(e,t):"image"==n?g(e,t):"command"==n?l(e,t):"title"==n?y(e,t,"pageTitle"):"instructions"==n?y(e,t,"logInstructionsMessage"):"introduction"==n?y(e,t,"logIntroductionMessage"):"completion"==n?y(e,t,"logCompletionMessage"):"credits"==n?y(e,t,"logCreditsMessage"):console.warn('Command "'+e[0]+'" not recognized. Block ignored',e)}function s(e,t){e.slice(1).forEach(function(e){var n=_(e,"=",2),r=n[0],o=n[1],s=r.trim();t.keywordGroups.hasOwnProperty(s)||(t.keywordGroups[s]=[]),o.split(",").map(function(e){return e.trim().toLowerCase()}).forEach(function(e){t.keywordGroups[s].includes(e)||t.keywordGroups[s].push(e)})})}function a(e,t){var n=j(e,"!hint"),r=i(n[0],t);void 0!==r&&n.slice(1).forEach(function(e){return c(e,t,r)})}function i(e,t){var n=e[0].trim();if(!t.shardIndexMap.hasOwnProperty(n)){t.shardIndexMap[n]=t.shards.length;var r={label:n,keywords:0==e[1].length?[]:e[1].split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0}).map(function(e){return e.toLowerCase()}),content:e.slice(2).join("\n").trim()};return t.shards.push(r),r}console.warn('Duplicate shard label: "'+n+'". Segment ignored')}function c(e,t,n){e.forEach(function(e){if(0!=e.trim().length){var r=_(e,",",3),o=r[0],s=r[1],a=r[2],i=o.trim(),c=parseInt(s.trim()),u=a.trim(),p={required:t.shardIndexMap[n.label],keyword:i,importance:c,description:u};t.hints.push(p)}})}function u(e,t){return function(n,r){n.slice(1).forEach(function(n){var o=_(n,"=",2).map(function(e){return e.trim()}),s=o[0],a=o[1];0==a.length&&(r[e][s]=t),r[e][s]=d(a)})}}exports.default=t,exports.exportRawGameData=n;var p=u("textTemplates"),l=u("commandTemplates","");function h(e,t){var n=e[1],r=e.slice(2).join("\n");t.textTemplates[n]=r}function d(e){return e.replace(/\\([\\n])/g,function(e){return"\\\\"==e?"\\":"\n"})}function m(e,t){t.cssStyles.push(e.slice(1).join("\n").replace(/\u00a0/g," "))}function f(e,t){e.slice(1).forEach(function(e){var n=_(e,"=",2).map(function(e){return e.trim()}),r=n[0],o=n[1];0!=o.length&&(t.gameConfig[r]=o)})}function g(e,t){var n=e[1].trim(),r=e.slice(2).join("").trim();t.imageSources[n]=r}function y(e,t,n){t.textTemplates[n]=e.slice(1).join("\n")}function v(e){var t={type:"chapter",shards:e.shards};Object.keys(e.keywordGroups).length>0&&(t.keywordGroups=e.keywordGroups),Object.keys(e.hints).length>0&&(t.hints=e.hints);var n={};return Object.keys(e.textTemplates).length>0&&(n.textTemplates=e.textTemplates),Object.keys(e.commandTemplates).length>0&&(n.commandTemplates=e.commandTemplates),e.cssStyles.length>0&&(n.cssStyles=e.cssStyles),Object.keys(e.imageSources).length>0&&(n.imageSources=e.imageSources),Object.keys(n).length>0&&(t.uiConfig=n),Object.keys(e.gameConfig).length>0&&(t.gameConfig=e.gameConfig),t}function w(t){var n=t.split("\n");return n=n.map(function(e){return e.replace(/[\r\n]+$/,"")}),e.decrypt_v2(n.slice(1).join(""))}function b(t){return"!encoded\n"+e.encrypt_v1(t)}function x(t){var n=t.split("\n"),r=j(n=n.map(function(e){return e.replace(/[\r\n]+$/,"")}),function(e){return e.includes("#")}),o=e.decrypt_v2(r[0].slice(1).join(""));return r.slice(1).forEach(function(t){if("!image"==e.decrypt_v2(t[0]).split(".")[0]){var n=e.decrypt_v2(t[1]),r=t.slice(2).join("");o.imageSources[n]=r}}),v(o)}function k(t){var n=t.imageSources,r=Object.assign({},t,{imageSources:{}});function o(){return e.base64Chars.charAt(Math.floor(Math.random()*e.base64Chars.length))}function s(){var e=new Array(10).fill(10).map(o);return e.push("#"),function(e){for(var t,n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1));t=[e[r],e[n]],e[n]=t[0],e[r]=t[1]}}(e),e.join("")}var a='<p style="margin: 0;">',i=["<html>","<head>",'<meta content="text/html; charset=UTF-8" http-equiv="content-type">',"</head>","<body>",a,"!encoded-0.0.2","</p>"];return i.push(a),i.push(e.encrypt_v2(r)),i.push("</p>"),Object.keys(n).map(function(t){var r=n[t];i.push(a),i.push(s()),i.push("</p>");var c=Math.floor(10*Math.random())+10,u="!image."+new Array(c).fill(c).map(o).join("");i.push(a),i.push(e.encrypt_v2(u)),i.push("</p>"),i.push(a),i.push(e.encrypt_v2(t)),i.push("</p>"),i.push('<table style="border: none;">'),i.push("<tbody>"),i.push('<tr style="border: none;">'),i.push('<td style="padding: 0; width: 0; height: 0; border: none;">'),i.push(a),i.push('<span style="display: inline-block; width: 1px; height: 1px; overflow: hidden; margin: 0;">'),i.push('<img src="'+r+'" style="width: 1px; height: 1px;">'),i.push("</span>"),i.push("</p>"),i.push("</td>"),i.push("</tr>"),i.push("</tbody>"),i.push("</table>")}),i.push("</body>"),i.push("</html>"),i.join("")}function j(e,t){if(0==e.length)return[];var n=[[]];return e.forEach(function(e){e==t||"function"==typeof t&&t(e)?n.push([]):n[n.length-1].push(e)}),n}function _(e,t,n){for(var r=e.split(t),o=[],s=0;s<n-1;s++)o.push(r[s]);return o.push(r.slice(n-1).join(t)),o}exports.encodeRawGameData__0_0_2=k,exports.encodeRawGameData=k;
},{"./crypto":"Ue4l"}],"Uab7":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var a in n)"default"!==a&&Object.prototype.hasOwnProperty.call(n,a)&&e(r,n,a);return t(r,n),r},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(t){o(t)}}function u(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,u)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(u){o=[6,u],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.saveGameState=exports.loadGameState=void 0;var i=o(require("../data/game.min.json")),u=n(require("./ui-manager")),c=n(require("./shard-game")),l=n(require("./game-exporter")),s="shard__";function d(e,t){return r(this,void 0,void 0,function(){function n(e){var t;void 0===e&&(e=!0),i=null===(t=h.gameConfig)||void 0===t?void 0:t.saveKey;var n=e?p(i):void 0;r=new c.default(h,n),u.hideSplashScreen(),o.clearUI(),o.initializeUI(r.getShardIdOrder(),function(e){return r.getShardDataState(e)},h.uiConfig)}var r,o,i,l,s,d,h,m;return a(this,function(a){switch(a.label){case 0:l=function(){var e=r.requestHint();o.updateLogFromHintResponse(e)},s=function(e){var t=r.inputWord(e);i&&v(i,r.getGameSaveState()),o.updateFromInputWordResponse(t)},d=function(){n(!1),i&&v(i,r.getGameSaveState())},o=new u.default(l,s,d),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,f(e,null==t?void 0:t.shouldEncodeGameData)];case 2:return h=a.sent(),[3,4];case 3:return m=a.sent(),u.promptAlert("Error when importing game:\n\n"+m,"OK"),console.error(m),[2];case 4:return n(),[2]}})})}function f(e,t){return r(this,void 0,Promise,function(){var n,r;return a(this,function(a){switch(a.label){case 0:return void 0===e?[2,i.default]:(void 0===t&&(t=!1),[4,m(e)]);case 1:return n=a.sent(),t&&(r=l.exportRawGameData(n),g("gamedata.html",l.encodeRawGameData(r))),[2,l.default(n)]}})})}function h(e){return r(this,void 0,Promise,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return[4,fetch("https://docs.google.com/document/d/"+e+"/export?format=txt")];case 1:if(!(t=r.sent()).ok)throw"Unable to load game data from Google Docs (ID: "+e+")";return[4,t.text()];case 2:return n=r.sent(),[2,n.replace(/^\uFEFF/,"")]}})})}function m(e){return r(this,void 0,Promise,function(){var t,n,r,o;return a(this,function(a){switch(a.label){case 0:return[4,fetch("https://docs.google.com/document/d/"+e+"/export?format=html")];case 1:if(!(t=a.sent()).ok)throw"Unable to load game data from Google Docs (ID: "+e+")";return[4,t.text()];case 2:return n=a.sent(),(r=document.createElement("template")).innerHTML=n,(o=r.content.cloneNode(!0)).querySelectorAll("img").forEach(function(e){var t,n=document.createElement("p");n.innerText=e.src,null===(t=e.parentElement)||void 0===t||t.replaceChild(n,e)}),[2,Array.from(o.childNodes).filter(function(e){return 1==e.nodeType&&"STYLE"!=e.tagName}).map(function(e){return e.innerText||e.textContent}).join("\n").trim()]}})})}function p(e){if(e){var t=localStorage[s+e];if(t){var n,r=c.validateSerializedGameSaveState(t);return void 0===r?n=c.deserializeGameSaveState(t):(console.error('Error loading save slot "'+e+'". Error: '+r+". Loading default state"),n=c.getInitialGameSaveState()),n}}}function v(e,t){localStorage[s+e]=c.serializeGameSaveState(t)}function g(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}exports.default=d,exports.loadGameState=p,exports.saveGameState=v;
},{"../data/game.min.json":"bMrZ","./ui-manager":"CRHt","./shard-game":"svBx","./game-exporter":"nroR"}],"qy9T":[function(require,module,exports) {
var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,o=n.execScript;!r&&o&&(o.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var c=Object_keys(n),i=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(c,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t};
},{}],"RutN":[function(require,module,exports) {
var n=require("vm");module.exports=function(t,e,o){var r={},c="SAFE_EVAL_"+Math.floor(1e6*Math.random());r[c]={};return t="\n    (function(){\n      Function = undefined;\n      const keys = Object.getOwnPropertyNames(this).concat(['constructor']);\n      keys.forEach((key) => {\n        const item = this[key];\n        if(!item || typeof item.constructor !== 'function') return;\n        this[key].constructor = undefined;\n      });\n    })();\n  "+c+"="+t,e&&Object.keys(e).forEach(function(n){r[n]=e[n]}),n.runInNewContext(t,r,o),r[c]};
},{"vm":"qy9T"}],"vAhp":[function(require,module,exports) {
var e=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var a in n)"default"!==a&&Object.prototype.hasOwnProperty.call(n,a)&&e(r,n,a);return t(r,n),r},r=new URLSearchParams(window.location.search),a=r.get("game")||void 0,i=!!r.get("encode");Promise.resolve().then(function(){return n(require("./game-manager"))}).then(function(e){(0,e.default)(a,{shouldEncodeGameData:i})}),Promise.resolve().then(function(){return n(require("safe-eval"))}).then(function(e){window.safeEval=e.default});
},{"./game-manager":"Uab7","safe-eval":"RutN"}]},{},["vAhp"], null)